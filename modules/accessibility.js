/*
 Highcharts JS v8.2.2 (2020-12-12)

 Accessibility module

 (c) 2010-2019 Highsoft AS
 Author: Oystein Moseng

 License: www.highcharts.com/license
*/
(function(b){"object"===typeof module&&module.exports?(b["default"]=b,module.exports=b):"function"===typeof define&&define.amd?define("highcharts/modules/accessibility",["highcharts"],function(u){b(u);b.Highcharts=u;return b}):b("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(b){function u(b,g,p,n){b.hasOwnProperty(g)||(b[g]=n.apply(null,p))}b=b?b._modules:{};u(b,"Accessibility/Utils/HTMLUtilities.js",[b["Core/Globals.js"],b["Core/Utilities.js"]],function(b,g){function y(b){return b.replace(/&/g,
"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}var n=b.doc,q=b.win,l=g.merge;return{addClass:function(b,l){b.classList?b.classList.add(l):0>b.className.indexOf(l)&&(b.className+=l)},escapeStringForHTML:y,getElement:function(b){return n.getElementById(b)},getFakeMouseEvent:function(b){if("function"===typeof q.MouseEvent)return new q.MouseEvent(b);if(n.createEvent){var f=n.createEvent("MouseEvent");if(f.initMouseEvent)return f.initMouseEvent(b,
!0,!0,q,"click"===b?1:0,0,0,0,0,!1,!1,!1,!1,0,null),f}return{type:b}},removeElement:function(b){b&&b.parentNode&&b.parentNode.removeChild(b)},reverseChildNodes:function(b){for(var f=b.childNodes.length;f--;)b.appendChild(b.childNodes[f])},setElAttrs:function(b,l){Object.keys(l).forEach(function(f){var h=l[f];null===h?b.removeAttribute(f):(h=y(""+h),b.setAttribute(f,h))})},stripHTMLTagsFromString:function(b){return"string"===typeof b?b.replace(/<\/?[^>]+(>|$)/g,""):b},visuallyHideElement:function(b){l(!0,
b.style,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:"0.01"})}}});u(b,"Accessibility/Utils/ChartUtilities.js",[b["Accessibility/Utils/HTMLUtilities.js"],b["Core/Utilities.js"]],function(b,g){function y(a){var c=a.chart,e={},m="Seconds";e.Seconds=((a.max||0)-(a.min||0))/1E3;e.Minutes=e.Seconds/60;e.Hours=e.Minutes/
60;e.Days=e.Hours/24;["Minutes","Hours","Days"].forEach(function(a){2<e[a]&&(m=a)});var d=e[m].toFixed("Seconds"!==m&&"Minutes"!==m?1:0);return c.langFormat("accessibility.axis.timeRange"+m,{chart:c,axis:a,range:d.replace(".0","")})}function n(a){var c,e,m=a.chart,d=(null===(e=null===(c=m.options)||void 0===c?void 0:c.accessibility)||void 0===e?void 0:e.screenReaderSection.axisRangeDateFormat)||"";c=function(c){return a.dateTime?m.time.dateFormat(d,a[c]):a[c]};return m.langFormat("accessibility.axis.rangeFromTo",
{chart:m,axis:a,rangeFrom:c("min"),rangeTo:c("max")})}function q(a){var c,e;if(null===(c=a.points)||void 0===c?0:c.length)return a=h(a.points,function(a){return!!a.graphic}),null===(e=null===a||void 0===a?void 0:a.graphic)||void 0===e?void 0:e.element}function l(a){var c=q(a);return c&&c.parentNode||a.graph&&a.graph.element||a.group&&a.group.element}function f(a,c){c.setAttribute("aria-hidden",!1);c!==a.renderTo&&c.parentNode&&(Array.prototype.forEach.call(c.parentNode.childNodes,function(a){a.hasAttribute("aria-hidden")||
a.setAttribute("aria-hidden",!0)}),f(a,c.parentNode))}var v=b.stripHTMLTagsFromString,t=g.defined,h=g.find,d=g.fireEvent;return{getChartTitle:function(a){return v(a.options.title.text||a.langFormat("accessibility.defaultChartTitle",{chart:a}))},getAxisDescription:function(a){return v(a&&(a.userOptions&&a.userOptions.accessibility&&a.userOptions.accessibility.description||a.axisTitle&&a.axisTitle.textStr||a.options.id||a.categories&&"categories"||a.dateTime&&"Time"||"values"))},getAxisRangeDescription:function(a){var c=
a.options||{};return c.accessibility&&"undefined"!==typeof c.accessibility.rangeDescription?c.accessibility.rangeDescription:a.categories?(c=a.chart,a=a.dataMax&&a.dataMin?c.langFormat("accessibility.axis.rangeCategories",{chart:c,axis:a,numCategories:a.dataMax-a.dataMin+1}):"",a):!a.dateTime||0!==a.min&&0!==a.dataMin?n(a):y(a)},getPointFromXY:function(a,c,e){for(var m=a.length,d;m--;)if(d=h(a[m].points||[],function(a){return a.x===c&&a.y===e}))return d},getSeriesFirstPointElement:q,getSeriesFromName:function(a,
c){return c?(a.series||[]).filter(function(a){return a.name===c}):a.series},getSeriesA11yElement:l,unhideChartElementFromAT:f,hideSeriesFromAT:function(a){(a=l(a))&&a.setAttribute("aria-hidden",!0)},scrollToPoint:function(a){var c=a.series.xAxis,e=a.series.yAxis,m=(null===c||void 0===c?0:c.scrollbar)?c:e;if((c=null===m||void 0===m?void 0:m.scrollbar)&&t(c.to)&&t(c.from)){e=c.to-c.from;if(t(m.dataMin)&&t(m.dataMax)){var b=m.toPixels(m.dataMin),h=m.toPixels(m.dataMax);a=(m.toPixels(a["xAxis"===m.coll?
"x":"y"]||0)-b)/(h-b)}else a=0;c.updatePosition(a-e/2,a+e/2);d(c,"changed",{from:c.from,to:c.to,trigger:"scrollbar",DOMEvent:null})}}}});u(b,"Accessibility/KeyboardNavigationHandler.js",[b["Core/Utilities.js"]],function(b){function g(b,g){this.chart=b;this.keyCodeMap=g.keyCodeMap||[];this.validate=g.validate;this.init=g.init;this.terminate=g.terminate;this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}var y=b.find;g.prototype={run:function(b){var g=b.which||b.keyCode,l=this.response.noHandler,
f=y(this.keyCodeMap,function(b){return-1<b[0].indexOf(g)});f?l=f[1].call(this,g,b):9===g&&(l=this.response[b.shiftKey?"prev":"next"]);return l}};return g});u(b,"Accessibility/Utils/DOMElementProvider.js",[b["Core/Globals.js"],b["Accessibility/Utils/HTMLUtilities.js"],b["Core/Utilities.js"]],function(b,g,p){var y=b.doc,q=g.removeElement;b=p.extend;g=function(){this.elements=[]};b(g.prototype,{createElement:function(){var b=y.createElement.apply(y,arguments);this.elements.push(b);return b},destroyCreatedElements:function(){this.elements.forEach(function(b){q(b)});
this.elements=[]}});return g});u(b,"Accessibility/Utils/EventProvider.js",[b["Core/Globals.js"],b["Core/Utilities.js"]],function(b,g){var y=g.addEvent;g=g.extend;var n=function(){this.eventRemovers=[]};g(n.prototype,{addEvent:function(){var g=y.apply(b,arguments);this.eventRemovers.push(g);return g},removeAddedEvents:function(){this.eventRemovers.forEach(function(b){b()});this.eventRemovers=[]}});return n});u(b,"Accessibility/AccessibilityComponent.js",[b["Accessibility/Utils/ChartUtilities.js"],
b["Accessibility/Utils/DOMElementProvider.js"],b["Accessibility/Utils/EventProvider.js"],b["Core/Globals.js"],b["Accessibility/Utils/HTMLUtilities.js"],b["Core/Utilities.js"]],function(b,g,p,n,q,l){function f(){}var v=b.unhideChartElementFromAT,t=n.doc,h=n.win,d=q.removeElement,a=q.getFakeMouseEvent;b=l.extend;var c=l.fireEvent,e=l.merge;f.prototype={initBase:function(a){this.chart=a;this.eventProvider=new p;this.domElementProvider=new g;this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,
esc:27,tab:9}},addEvent:function(){return this.eventProvider.addEvent.apply(this.eventProvider,arguments)},createElement:function(){return this.domElementProvider.createElement.apply(this.domElementProvider,arguments)},fireEventOnWrappedOrUnwrappedElement:function(a,e){var m=e.type;t.createEvent&&(a.dispatchEvent||a.fireEvent)?a.dispatchEvent?a.dispatchEvent(e):a.fireEvent(m,e):c(a,m,e)},fakeClickEvent:function(c){if(c){var m=a("click");this.fireEventOnWrappedOrUnwrappedElement(c,m)}},addProxyGroup:function(a){this.createOrUpdateProxyContainer();
var c=this.createElement("div");Object.keys(a||{}).forEach(function(m){null!==a[m]&&c.setAttribute(m,a[m])});this.chart.a11yProxyContainer.appendChild(c);return c},createOrUpdateProxyContainer:function(){var a=this.chart,c=a.renderer.box;a.a11yProxyContainer=a.a11yProxyContainer||this.createProxyContainerElement();c.nextSibling!==a.a11yProxyContainer&&a.container.insertBefore(a.a11yProxyContainer,c.nextSibling)},createProxyContainerElement:function(){var a=t.createElement("div");a.className="highcharts-a11y-proxy-container";
return a},createProxyButton:function(a,c,d,b,h){var m=a.element,w=this.createElement("button"),f=e({"aria-label":m.getAttribute("aria-label")},d);Object.keys(f).forEach(function(a){null!==f[a]&&w.setAttribute(a,f[a])});w.className="highcharts-a11y-proxy-button";h&&this.addEvent(w,"click",h);this.setProxyButtonStyle(w);this.updateProxyButtonPosition(w,b||a);this.proxyMouseEventsForButton(m,w);c.appendChild(w);f["aria-hidden"]||v(this.chart,w);return w},getElementPosition:function(a){var c=a.element;
return(a=this.chart.renderTo)&&c&&c.getBoundingClientRect?(c=c.getBoundingClientRect(),a=a.getBoundingClientRect(),{x:c.left-a.left,y:c.top-a.top,width:c.right-c.left,height:c.bottom-c.top}):{x:0,y:0,width:1,height:1}},setProxyButtonStyle:function(a){e(!0,a.style,{"border-width":0,"background-color":"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",
position:"absolute"})},updateProxyButtonPosition:function(a,c){c=this.getElementPosition(c);e(!0,a.style,{width:(c.width||1)+"px",height:(c.height||1)+"px",left:(c.x||0)+"px",top:(c.y||0)+"px"})},proxyMouseEventsForButton:function(a,c){var m=this;"click touchstart touchend touchcancel touchmove mouseover mouseenter mouseleave mouseout".split(" ").forEach(function(e){var d=0===e.indexOf("touch");m.addEvent(c,e,function(c){var e=d?m.cloneTouchEvent(c):m.cloneMouseEvent(c);a&&m.fireEventOnWrappedOrUnwrappedElement(a,
e);c.stopPropagation();c.preventDefault()},{passive:!1})})},cloneMouseEvent:function(c){if("function"===typeof h.MouseEvent)return new h.MouseEvent(c.type,c);if(t.createEvent){var e=t.createEvent("MouseEvent");if(e.initMouseEvent)return e.initMouseEvent(c.type,c.bubbles,c.cancelable,c.view||h,c.detail,c.screenX,c.screenY,c.clientX,c.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget),e}return a(c.type)},cloneTouchEvent:function(a){var c=function(a){for(var c=[],e=0;e<a.length;++e){var d=
a.item(e);d&&c.push(d)}return c};if("function"===typeof h.TouchEvent)return c=new h.TouchEvent(a.type,{touches:c(a.touches),targetTouches:c(a.targetTouches),changedTouches:c(a.changedTouches),ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,altKey:a.altKey,metaKey:a.metaKey,bubbles:a.bubbles,cancelable:a.cancelable,composed:a.composed,detail:a.detail,view:a.view}),a.defaultPrevented&&c.preventDefault(),c;c=this.cloneMouseEvent(a);c.touches=a.touches;c.changedTouches=a.changedTouches;c.targetTouches=a.targetTouches;
return c},destroyBase:function(){d(this.chart.a11yProxyContainer);this.domElementProvider.destroyCreatedElements();this.eventProvider.removeAddedEvents()}};b(f.prototype,{init:function(){},getKeyboardNavigation:function(){},onChartUpdate:function(){},onChartRender:function(){},destroy:function(){}});return f});u(b,"Accessibility/KeyboardNavigation.js",[b["Core/Globals.js"],b["Core/Utilities.js"],b["Accessibility/Utils/HTMLUtilities.js"],b["Accessibility/Utils/EventProvider.js"]],function(b,g,p,n){function y(d,
a){this.init(d,a)}var l=b.doc,f=b.win,v=g.addEvent,t=g.fireEvent,h=p.getElement;v(l,"keydown",function(d){27===(d.which||d.keyCode)&&b.charts&&b.charts.forEach(function(a){a&&a.dismissPopupContent&&a.dismissPopupContent()})});b.Chart.prototype.dismissPopupContent=function(){var d=this;t(this,"dismissPopupContent",{},function(){d.tooltip&&d.tooltip.hide(0);d.hideExportMenu()})};y.prototype={init:function(d,a){var c=this,e=this.eventProvider=new n;this.chart=d;this.components=a;this.modules=[];this.currentModuleIx=
0;this.update();e.addEvent(this.tabindexContainer,"keydown",function(a){return c.onKeydown(a)});e.addEvent(this.tabindexContainer,"focus",function(a){return c.onFocus(a)});["mouseup","touchend"].forEach(function(a){return e.addEvent(l,a,function(){return c.onMouseUp()})});["mousedown","touchstart"].forEach(function(a){return e.addEvent(d.renderTo,a,function(){c.isClickingChart=!0})});e.addEvent(d.renderTo,"mouseover",function(){c.pointerIsOverChart=!0});e.addEvent(d.renderTo,"mouseout",function(){c.pointerIsOverChart=
!1});this.modules.length&&this.modules[0].init(1)},update:function(d){var a=this.chart.options.accessibility;a=a&&a.keyboardNavigation;var c=this.components;this.updateContainerTabindex();a&&a.enabled&&d&&d.length?(this.modules=d.reduce(function(a,d){d=c[d].getKeyboardNavigation();return a.concat(d)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())},onFocus:function(d){var a,c=this.chart;d=d.relatedTarget&&c.container.contains(d.relatedTarget);this.isClickingChart||
d||(null===(a=this.modules[0])||void 0===a?void 0:a.init(1))},onMouseUp:function(){delete this.isClickingChart;if(!this.keyboardReset&&!this.pointerIsOverChart){var d=this.chart,a=this.modules&&this.modules[this.currentModuleIx||0];a&&a.terminate&&a.terminate();d.focusElement&&d.focusElement.removeFocusBorder();this.currentModuleIx=0;this.keyboardReset=!0}},onKeydown:function(d){d=d||f.event;var a,c=this.modules&&this.modules.length&&this.modules[this.currentModuleIx];this.keyboardReset=!1;if(c){var e=
c.run(d);e===c.response.success?a=!0:e===c.response.prev?a=this.prev():e===c.response.next&&(a=this.next());a&&(d.preventDefault(),d.stopPropagation())}},prev:function(){return this.move(-1)},next:function(){return this.move(1)},move:function(d){var a=this.modules&&this.modules[this.currentModuleIx];a&&a.terminate&&a.terminate(d);this.chart.focusElement&&this.chart.focusElement.removeFocusBorder();this.currentModuleIx+=d;if(a=this.modules&&this.modules[this.currentModuleIx]){if(a.validate&&!a.validate())return this.move(d);
if(a.init)return a.init(d),!0}this.currentModuleIx=0;0<d?(this.exiting=!0,this.exitAnchor.focus()):this.tabindexContainer.focus();return!1},updateExitAnchor:function(){var d=h("highcharts-end-of-chart-marker-"+this.chart.index);this.removeExitAnchor();d?(this.makeElementAnExitAnchor(d),this.exitAnchor=d):this.createExitAnchor()},updateContainerTabindex:function(){var d=this.chart.options.accessibility;d=d&&d.keyboardNavigation;d=!(d&&!1===d.enabled);var a=this.chart,c=a.container;a.renderTo.hasAttribute("tabindex")&&
(c.removeAttribute("tabindex"),c=a.renderTo);this.tabindexContainer=c;var e=c.getAttribute("tabindex");d&&!e?c.setAttribute("tabindex","0"):d||a.container.removeAttribute("tabindex")},makeElementAnExitAnchor:function(d){var a=this.tabindexContainer.getAttribute("tabindex")||0;d.setAttribute("class","highcharts-exit-anchor");d.setAttribute("tabindex",a);d.setAttribute("aria-hidden",!1);this.addExitAnchorEventsToEl(d)},createExitAnchor:function(){var d=this.chart,a=this.exitAnchor=l.createElement("div");
d.renderTo.appendChild(a);this.makeElementAnExitAnchor(a)},removeExitAnchor:function(){this.exitAnchor&&this.exitAnchor.parentNode&&(this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor)},addExitAnchorEventsToEl:function(d){var a=this.chart,c=this;this.eventProvider.addEvent(d,"focus",function(e){e=e||f.event;e.relatedTarget&&a.container.contains(e.relatedTarget)||c.exiting?c.exiting=!1:(c.tabindexContainer.focus(),e.preventDefault(),c.modules&&c.modules.length&&(c.currentModuleIx=
c.modules.length-1,(e=c.modules[c.currentModuleIx])&&e.validate&&!e.validate()?c.prev():e&&e.init(-1)))})},destroy:function(){this.removeExitAnchor();this.eventProvider.removeAddedEvents();this.chart.container.removeAttribute("tabindex")}};return y});u(b,"Accessibility/Components/LegendComponent.js",[b["Core/Globals.js"],b["Core/Legend.js"],b["Core/Utilities.js"],b["Accessibility/AccessibilityComponent.js"],b["Accessibility/KeyboardNavigationHandler.js"],b["Accessibility/Utils/HTMLUtilities.js"]],
function(b,g,p,n,q,l){function f(a){var c=a.legend&&a.legend.allItems,e=a.options.legend.accessibility||{};return!(!c||!c.length||a.colorAxis&&a.colorAxis.length||!1===e.enabled)}var v=p.addEvent,t=p.extend,h=p.find,d=p.fireEvent,a=l.stripHTMLTagsFromString,c=l.removeElement;b.Chart.prototype.highlightLegendItem=function(a){var c=this.legend.allItems,e=this.highlightedLegendItemIx;if(c[a]){c[e]&&d(c[e].legendGroup.element,"mouseout");e=this.legend;var b=e.allItems[a].pageIx,h=e.currentPage;"undefined"!==
typeof b&&b+1!==h&&e.scroll(1+b-h);this.setFocusToElement(c[a].legendItem,c[a].a11yProxyElement);d(c[a].legendGroup.element,"mouseover");return!0}return!1};v(g,"afterColorizeItem",function(a){var c=a.item;this.chart.options.accessibility.enabled&&c&&c.a11yProxyElement&&c.a11yProxyElement.setAttribute("aria-pressed",a.visible?"false":"true")});b=function(){};b.prototype=new n;t(b.prototype,{init:function(){var a=this;this.proxyElementsList=[];this.recreateProxies();this.addEvent(g,"afterScroll",function(){this.chart===
a.chart&&(a.updateProxiesPositions(),a.updateLegendItemProxyVisibility(),this.chart.highlightLegendItem(a.highlightedLegendItemIx))});this.addEvent(g,"afterPositionItem",function(c){this.chart===a.chart&&this.chart.renderer&&a.updateProxyPositionForItem(c.item)})},updateLegendItemProxyVisibility:function(){var a=this.chart.legend,c=a.currentPage||1,d=a.clipHeight||0;(a.allItems||[]).forEach(function(e){var b=e.pageIx||0,m=e._legendItemPos?e._legendItemPos[1]:0,h=e.legendItem?Math.round(e.legendItem.getBBox().height):
0;b=m+h-a.pages[b]>d||b!==c-1;e.a11yProxyElement&&(e.a11yProxyElement.style.visibility=b?"hidden":"visible")})},onChartRender:function(){f(this.chart)?this.updateProxiesPositions():this.removeProxies()},updateProxiesPositions:function(){for(var a=0,c=this.proxyElementsList;a<c.length;a++){var d=c[a];this.updateProxyButtonPosition(d.element,d.posElement)}},updateProxyPositionForItem:function(a){var c=h(this.proxyElementsList,function(c){return c.item===a});c&&this.updateProxyButtonPosition(c.element,
c.posElement)},recreateProxies:function(){this.removeProxies();f(this.chart)&&(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility())},removeProxies:function(){c(this.legendProxyGroup);this.proxyElementsList=[]},addLegendProxyGroup:function(){var a=this.chart.options.accessibility,c=this.chart.langFormat("accessibility.legend.legendLabel",{});this.legendProxyGroup=this.addProxyGroup({"aria-label":c,role:"all"===a.landmarkVerbosity?"region":null})},proxyLegendItems:function(){var a=
this;(this.chart.legend&&this.chart.legend.allItems||[]).forEach(function(c){c.legendItem&&c.legendItem.element&&a.proxyLegendItem(c)})},proxyLegendItem:function(c){if(c.legendItem&&c.legendGroup){var d=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:a(c.name)}),b=c.legendGroup.div?c.legendItem:c.legendGroup;c.a11yProxyElement=this.createProxyButton(c.legendItem,this.legendProxyGroup,{tabindex:-1,"aria-pressed":!c.visible,"aria-label":d},b);this.proxyElementsList.push({item:c,
element:c.a11yProxyElement,posElement:b})}},getKeyboardNavigation:function(){var a=this.keyCodes,c=this;return new q(this.chart,{keyCodeMap:[[[a.left,a.right,a.up,a.down],function(a){return c.onKbdArrowKey(this,a)}],[[a.enter,a.space],function(){return c.onKbdClick(this)}]],validate:function(){return c.shouldHaveLegendNavigation()},init:function(a){return c.onKbdNavigationInit(a)}})},onKbdArrowKey:function(a,c){var d=this.keyCodes,b=a.response,e=this.chart,m=e.options.accessibility,h=e.legend.allItems.length;
c=c===d.left||c===d.up?-1:1;return e.highlightLegendItem(this.highlightedLegendItemIx+c)?(this.highlightedLegendItemIx+=c,b.success):1<h&&m.keyboardNavigation.wrapAround?(a.init(c),b.success):b[0<c?"next":"prev"]},onKbdClick:function(a){var c=this.chart.legend.allItems[this.highlightedLegendItemIx];c&&c.a11yProxyElement&&d(c.a11yProxyElement,"click");return a.response.success},shouldHaveLegendNavigation:function(){var a=this.chart,c=a.colorAxis&&a.colorAxis.length,d=(a.options.legend||{}).accessibility||
{};return!!(a.legend&&a.legend.allItems&&a.legend.display&&!c&&d.enabled&&d.keyboardNavigation&&d.keyboardNavigation.enabled)},onKbdNavigationInit:function(a){var c=this.chart,d=c.legend.allItems.length-1;a=0<a?0:d;c.highlightLegendItem(a);this.highlightedLegendItemIx=a}});return b});u(b,"Accessibility/Components/MenuComponent.js",[b["Core/Globals.js"],b["Core/Utilities.js"],b["Accessibility/AccessibilityComponent.js"],b["Accessibility/KeyboardNavigationHandler.js"],b["Accessibility/Utils/ChartUtilities.js"],
b["Accessibility/Utils/HTMLUtilities.js"]],function(b,g,p,n,q,l){function f(d){return d.exportSVGElements&&d.exportSVGElements[0]}g=g.extend;var v=q.unhideChartElementFromAT,t=l.removeElement,h=l.getFakeMouseEvent;b.Chart.prototype.showExportMenu=function(){var d=f(this);if(d&&(d=d.element,d.onclick))d.onclick(h("click"))};b.Chart.prototype.hideExportMenu=function(){var d=this.exportDivElements;d&&this.exportContextMenu&&(d.forEach(function(a){if("highcharts-menu-item"===a.className&&a.onmouseout)a.onmouseout(h("mouseout"))}),
this.highlightedExportItemIx=0,this.exportContextMenu.hideMenu(),this.container.focus())};b.Chart.prototype.highlightExportItem=function(d){var a=this.exportDivElements&&this.exportDivElements[d],c=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(a&&"LI"===a.tagName&&(!a.children||!a.children.length)){var b=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;a.focus&&b&&a.focus();if(c&&c.onmouseout)c.onmouseout(h("mouseout"));if(a.onmouseover)a.onmouseover(h("mouseover"));
this.highlightedExportItemIx=d;return!0}return!1};b.Chart.prototype.highlightLastExportItem=function(){var d;if(this.exportDivElements)for(d=this.exportDivElements.length;d--;)if(this.highlightExportItem(d))return!0;return!1};b=function(){};b.prototype=new p;g(b.prototype,{init:function(){var d=this.chart,a=this;this.addEvent(d,"exportMenuShown",function(){a.onMenuShown()});this.addEvent(d,"exportMenuHidden",function(){a.onMenuHidden()})},onMenuHidden:function(){var d=this.chart.exportContextMenu;
d&&d.setAttribute("aria-hidden","true");this.isExportMenuShown=!1;this.setExportButtonExpandedState("false")},onMenuShown:function(){var d=this.chart,a=d.exportContextMenu;a&&(this.addAccessibleContextMenuAttribs(),v(d,a));this.isExportMenuShown=!0;this.setExportButtonExpandedState("true")},setExportButtonExpandedState:function(d){var a=this.exportButtonProxy;a&&a.setAttribute("aria-expanded",d)},onChartRender:function(){var d=this.chart,a=d.options.accessibility;t(this.exportProxyGroup);var c=d.options.exporting,
b=f(d);c&&!1!==c.enabled&&c.accessibility&&c.accessibility.enabled&&b&&b.element&&(this.exportProxyGroup=this.addProxyGroup("all"===a.landmarkVerbosity?{"aria-label":d.langFormat("accessibility.exporting.exportRegionLabel",{chart:d}),role:"region"}:{}),a=f(this.chart),this.exportButtonProxy=this.createProxyButton(a,this.exportProxyGroup,{"aria-label":d.langFormat("accessibility.exporting.menuButtonLabel",{chart:d}),"aria-expanded":"false"}))},addAccessibleContextMenuAttribs:function(){var b=this.chart,
a=b.exportDivElements;a&&a.length&&(a.forEach(function(a){"LI"!==a.tagName||a.children&&a.children.length?a.setAttribute("aria-hidden","true"):a.setAttribute("tabindex",-1)}),a=a[0].parentNode,a.removeAttribute("aria-hidden"),a.setAttribute("aria-label",b.langFormat("accessibility.exporting.chartMenuLabel",{chart:b})))},getKeyboardNavigation:function(){var b=this.keyCodes,a=this.chart,c=this;return new n(a,{keyCodeMap:[[[b.left,b.up],function(){return c.onKbdPrevious(this)}],[[b.right,b.down],function(){return c.onKbdNext(this)}],
[[b.enter,b.space],function(){return c.onKbdClick(this)}]],validate:function(){return a.exportChart&&!1!==a.options.exporting.enabled&&!1!==a.options.exporting.accessibility.enabled},init:function(){var b=c.exportButtonProxy,d=a.exportingGroup;d&&b&&a.setFocusToElement(d,b)},terminate:function(){a.hideExportMenu()}})},onKbdPrevious:function(b){var a=this.chart,c=a.options.accessibility;b=b.response;for(var d=a.highlightedExportItemIx||0;d--;)if(a.highlightExportItem(d))return b.success;return c.keyboardNavigation.wrapAround?
(a.highlightLastExportItem(),b.success):b.prev},onKbdNext:function(b){var a=this.chart,c=a.options.accessibility;b=b.response;for(var d=(a.highlightedExportItemIx||0)+1;d<a.exportDivElements.length;++d)if(a.highlightExportItem(d))return b.success;return c.keyboardNavigation.wrapAround?(a.highlightExportItem(0),b.success):b.next},onKbdClick:function(b){var a=this.chart,c=a.exportDivElements[a.highlightedExportItemIx],d=f(a).element;this.isExportMenuShown?this.fakeClickEvent(c):(this.fakeClickEvent(d),
a.highlightExportItem(0));return b.response.success}});return b});u(b,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[b["Core/Series/Series.js"],b["Core/Chart/Chart.js"],b["Series/Line/LineSeries.js"],b["Core/Series/Point.js"],b["Core/Utilities.js"],b["Accessibility/KeyboardNavigationHandler.js"],b["Accessibility/Utils/EventProvider.js"],b["Accessibility/Utils/ChartUtilities.js"]],function(b,g,p,n,q,l,f,v){function t(a){var c=a.index,b=a.series.points,d=b.length;if(b[c]!==
a)for(;d--;){if(b[d]===a)return d}else return c}function h(a){var c=a.chart.options.accessibility.keyboardNavigation.seriesNavigation,b=a.options.accessibility||{},d=b.keyboardNavigation;return d&&!1===d.enabled||!1===b.enabled||!1===a.options.enableMouseTracking||!a.visible||c.pointNavigationEnabledThreshold&&c.pointNavigationEnabledThreshold<=a.points.length}function d(a){var c=a.series.chart.options.accessibility;return a.isNull&&c.keyboardNavigation.seriesNavigation.skipNullPoints||!1===a.visible||
h(a.series)}function a(a,c,b,d){var r=Infinity,k=c.points.length,e=function(a){return!(w(a.plotX)&&w(a.plotY))};if(!e(a)){for(;k--;){var z=c.points[k];if(!e(z)&&(z=(a.plotX-z.plotX)*(a.plotX-z.plotX)*(b||1)+(a.plotY-z.plotY)*(a.plotY-z.plotY)*(d||1),z<r)){r=z;var m=k}}return w(m)?c.points[m]:void 0}}function c(a){var c=!1;delete a.highlightedPoint;return c=a.series.reduce(function(a,c){return a||c.highlightFirstValidPoint()},!1)}function e(a,c){this.keyCodes=c;this.chart=a}var m=b.seriesTypes,w=q.defined,
y=q.extend,H=q.fireEvent,D=v.getPointFromXY,u=v.getSeriesFromName,B=v.scrollToPoint;p.prototype.keyboardMoveVertical=!0;["column","pie"].forEach(function(a){m[a]&&(m[a].prototype.keyboardMoveVertical=!1)});n.prototype.highlight=function(){var a=this.series.chart;if(this.isNull)a.tooltip&&a.tooltip.hide(0);else this.onMouseOver();B(this);this.graphic&&a.setFocusToElement(this.graphic);a.highlightedPoint=this;return this};g.prototype.highlightAdjacentPoint=function(a){var c=this.series,b=this.highlightedPoint,
k=b&&t(b)||0,r=b&&b.series.points,e=this.series&&this.series[this.series.length-1];e=e&&e.points&&e.points[e.points.length-1];if(!c[0]||!c[0].points)return!1;if(b){if(c=c[b.series.index+(a?1:-1)],k=r[k+(a?1:-1)],!k&&c&&(k=c.points[a?0:c.points.length-1]),!k)return!1}else k=a?c[0].points[0]:e;return d(k)?(c=k.series,h(c)?this.highlightedPoint=a?c.points[c.points.length-1]:c.points[0]:this.highlightedPoint=k,this.highlightAdjacentPoint(a)):k.highlight()};p.prototype.highlightFirstValidPoint=function(){var a=
this.chart.highlightedPoint,c=(a&&a.series)===this?t(a):0;a=this.points;var b=a.length;if(a&&b){for(var k=c;k<b;++k)if(!d(a[k]))return a[k].highlight();for(;0<=c;--c)if(!d(a[c]))return a[c].highlight()}return!1};g.prototype.highlightAdjacentSeries=function(c){var b,d=this.highlightedPoint;var k=(b=this.series&&this.series[this.series.length-1])&&b.points&&b.points[b.points.length-1];if(!this.highlightedPoint)return b=c?this.series&&this.series[0]:b,(k=c?b&&b.points&&b.points[0]:k)?k.highlight():!1;
b=this.series[d.series.index+(c?-1:1)];if(!b)return!1;k=a(d,b,4);if(!k)return!1;if(h(b))return k.highlight(),c=this.highlightAdjacentSeries(c),c?c:(d.highlight(),!1);k.highlight();return k.series.highlightFirstValidPoint()};g.prototype.highlightAdjacentPointVertical=function(a){var c=this.highlightedPoint,b=Infinity,k;if(!w(c.plotX)||!w(c.plotY))return!1;this.series.forEach(function(r){h(r)||r.points.forEach(function(e){if(w(e.plotY)&&w(e.plotX)&&e!==c){var m=e.plotY-c.plotY,z=Math.abs(e.plotX-c.plotX);
z=Math.abs(m)*Math.abs(m)+z*z*4;r.yAxis&&r.yAxis.reversed&&(m*=-1);!(0>=m&&a||0<=m&&!a||5>z||d(e))&&z<b&&(b=z,k=e)}})});return k?k.highlight():!1};y(e.prototype,{init:function(){var a=this,b=this.chart,d=this.eventProvider=new f;d.addEvent(p,"destroy",function(){return a.onSeriesDestroy(this)});d.addEvent(b,"afterDrilldown",function(){c(this);this.focusElement&&this.focusElement.removeFocusBorder()});d.addEvent(b,"drilldown",function(c){c=c.point;var b=c.series;a.lastDrilledDownPoint={x:c.x,y:c.y,
seriesName:b?b.name:""}});d.addEvent(b,"drillupall",function(){setTimeout(function(){a.onDrillupAll()},10)})},onDrillupAll:function(){var a=this.lastDrilledDownPoint,c=this.chart,b=a&&u(c,a.seriesName),d;a&&b&&w(a.x)&&w(a.y)&&(d=D(b,a.x,a.y));c.container&&c.container.focus();d&&d.highlight&&d.highlight();c.focusElement&&c.focusElement.removeFocusBorder()},getKeyboardNavigationHandler:function(){var a=this,c=this.keyCodes,b=this.chart,d=b.inverted;return new l(b,{keyCodeMap:[[d?[c.up,c.down]:[c.left,
c.right],function(c){return a.onKbdSideways(this,c)}],[d?[c.left,c.right]:[c.up,c.down],function(c){return a.onKbdVertical(this,c)}],[[c.enter,c.space],function(a,c){if(a=b.highlightedPoint)H(a.series,"click",y(c,{point:a})),a.firePointEvent("click");return this.response.success}]],init:function(c){return a.onHandlerInit(this,c)},terminate:function(){return a.onHandlerTerminate()}})},onKbdSideways:function(a,c){var b=this.keyCodes;return this.attemptHighlightAdjacentPoint(a,c===b.right||c===b.down)},
onKbdVertical:function(a,c){var b=this.chart,d=this.keyCodes;c=c===d.down||c===d.right;d=b.options.accessibility.keyboardNavigation.seriesNavigation;if(d.mode&&"serialize"===d.mode)return this.attemptHighlightAdjacentPoint(a,c);b[b.highlightedPoint&&b.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries"](c);return a.response.success},onHandlerInit:function(a,b){var d=this.chart;if(0<b)c(d);else{b=d.series.length;for(var e;b--&&!(d.highlightedPoint=
d.series[b].points[d.series[b].points.length-1],e=d.series[b].highlightFirstValidPoint()););}return a.response.success},onHandlerTerminate:function(){var a,c,b=this.chart,d=b.highlightedPoint;null===(a=b.tooltip)||void 0===a?void 0:a.hide(0);null===(c=null===d||void 0===d?void 0:d.onMouseOut)||void 0===c?void 0:c.call(d);delete b.highlightedPoint},attemptHighlightAdjacentPoint:function(a,c){var b=this.chart,d=b.options.accessibility.keyboardNavigation.wrapAround;return b.highlightAdjacentPoint(c)?
a.response.success:d?a.init(c?1:-1):a.response[c?"next":"prev"]},onSeriesDestroy:function(a){var c=this.chart;c.highlightedPoint&&c.highlightedPoint.series===a&&(delete c.highlightedPoint,c.focusElement&&c.focusElement.removeFocusBorder())},destroy:function(){this.eventProvider.removeAddedEvents()}});return e});u(b,"Accessibility/Components/AnnotationsA11y.js",[b["Accessibility/Utils/HTMLUtilities.js"]],function(b){function g(b){return(b.annotations||[]).reduce(function(b,h){var d;!1!==(null===(d=
h.options)||void 0===d?void 0:d.visible)&&(b=b.concat(h.labels));return b},[])}function p(b){var f,h,d,a,c=null===(h=null===(f=b.options)||void 0===f?void 0:f.accessibility)||void 0===h?void 0:h.description;return c?c:(null===(a=null===(d=b.graphic)||void 0===d?void 0:d.text)||void 0===a?void 0:a.textStr)||""}function n(b){var f,h,d=null===(h=null===(f=b.options)||void 0===f?void 0:f.accessibility)||void 0===h?void 0:h.description;if(d)return d;f=b.chart;h=p(b);d=b.points.filter(function(a){return!!a.graphic}).map(function(a){var c,
b;if(!(b=null===(c=null===a||void 0===a?void 0:a.accessibility)||void 0===c?void 0:c.valueDescription)){var d,h;b=(null===(h=null===(d=null===a||void 0===a?void 0:a.graphic)||void 0===d?void 0:d.element)||void 0===h?void 0:h.getAttribute("aria-label"))||""}a=(null===a||void 0===a?void 0:a.series.name)||"";return(a?a+", ":"")+"data point "+b}).filter(function(a){return!!a});var a=d.length;b="accessibility.screenReaderSection.annotations.description"+(1<a?"MultiplePoints":a?"SinglePoint":"NoPoints");
h={annotationText:h,numPoints:a,annotationPoint:d[0],additionalAnnotationPoints:d.slice(1)};return f.langFormat(b,h)}function q(b){return g(b).map(function(b){return(b=l(f(n(b))))?"<li>"+b+"</li>":""})}var l=b.escapeStringForHTML,f=b.stripHTMLTagsFromString;return{getAnnotationsInfoHTML:function(b){var f=b.annotations;return f&&f.length?"<ul>"+q(b).join(" ")+"</ul>":""},getAnnotationLabelDescription:n,getAnnotationListItems:q,getPointAnnotationTexts:function(b){var f=g(b.series.chart).filter(function(h){return-1<
h.points.indexOf(b)});return f.length?f.map(function(b){return""+p(b)}):[]}}});u(b,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[b["Accessibility/Components/AnnotationsA11y.js"],b["Accessibility/Utils/ChartUtilities.js"],b["Accessibility/Utils/HTMLUtilities.js"],b["Core/Tooltip.js"],b["Core/Utilities.js"]],function(b,g,p,n,q){function l(a){var c=a.index;return a.series&&a.series.data&&L(c)?z(a.series.data,function(a){return!!(a&&"undefined"!==typeof a.index&&a.index>c&&a.graphic&&
a.graphic.element)})||null:null}function f(a){var c=a.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(!1!==c&&a.points&&a.points.length>=c)}function v(a){var c=a.options.accessibility||{};return!f(a)&&!c.exposeAsGroupOnly}function t(a){var c=a.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!(!a.points||!(a.points.length<c.pointNavigationEnabledThreshold||!1===c.pointNavigationEnabledThreshold))}function h(a,c){var b=a.series.chart,d=b.options.accessibility.point||
{};a=a.series.tooltipOptions||{};b=b.options.lang;return K(c)?N(c,d.valueDecimals||a.valueDecimals||-1,b.decimalPoint,b.accessibility.thousandsSep||b.thousandsSep):c}function d(a){var c=(a.options.accessibility||{}).description;return c&&a.chart.langFormat("accessibility.series.description",{description:c,series:a})||""}function a(a,c){return a.chart.langFormat("accessibility.series."+c+"Description",{name:A(a[c]),series:a})}function c(a){var c=a.series,b=c.chart,d=b.options.accessibility.point||
{};if(c.xAxis&&c.xAxis.dateTime)return c=n.prototype.getXDateFormat.call({getDateFormat:n.prototype.getDateFormat,chart:b},a,b.options.tooltip,c.xAxis),d=d.dateFormatter&&d.dateFormatter(a)||d.dateFormat||c,b.time.dateFormat(d,a.x,void 0)}function e(a){var b=c(a),d=(a.series.xAxis||{}).categories&&L(a.category)&&(""+a.category).replace("<br/>"," "),r=a.id&&0>a.id.indexOf("highcharts-"),e="x, "+a.x;return a.name||b||d||(r?a.id:e)}function m(a,c,b){var d=c||"",r=b||"";return a.series.pointArrayMap.reduce(function(c,
b){c+=c.length?", ":"";var e=h(a,I(a[b],a.options[b]));return c+(b+": "+d+e+r)},"")}function w(a){var c=a.series,b=c.chart.options.accessibility.point||{},d=c.tooltipOptions||{},r=b.valuePrefix||d.valuePrefix||"";b=b.valueSuffix||d.valueSuffix||"";d=h(a,a["undefined"!==typeof a.value?"value":"y"]);return a.isNull?c.chart.langFormat("accessibility.series.nullPointValue",{point:a}):c.pointArrayMap?m(a,r,b):r+d+b}function y(a){var c=a.series,b=c.chart,d=b.options.accessibility.point.valueDescriptionFormat,
r=(c=I(c.xAxis&&c.xAxis.options.accessibility&&c.xAxis.options.accessibility.enabled,!b.angular))?e(a):"";a={point:a,index:L(a.index)?a.index+1:"",xDescription:r,value:w(a),separator:c?", ":""};return G(d,a,b)}function H(a){var c=a.series,b=c.chart,d=y(a),r=a.options&&a.options.accessibility&&a.options.accessibility.description;r=r?" "+r:"";c=1<b.series.length&&c.name?" "+c.name+".":"";b=a.series.chart;var e=B(a),k={point:a,annotations:e};b=e.length?b.langFormat("accessibility.series.pointAnnotationsDescription",
k):"";a.accessibility=a.accessibility||{};a.accessibility.valueDescription=d;return d+r+c+(b?" "+b:"")}function u(a){var c=v(a),b=t(a);(c||b)&&a.points.forEach(function(a){var b;if(!(b=a.graphic&&a.graphic.element)&&(b=a.series&&a.series.is("sunburst"),b=a.isNull&&!b)){var d=a.series,e=l(a);d=(b=e&&e.graphic)?b.parentGroup:d.graph||d.group;e=e?{x:I(a.plotX,e.plotX,0),y:I(a.plotY,e.plotY,0)}:{x:I(a.plotX,0),y:I(a.plotY,0)};e=a.series.chart.renderer.rect(e.x,e.y,1,1);e.attr({"class":"highcharts-a11y-dummy-point",
fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0});d&&d.element?(a.graphic=e,a.hasDummyGraphic=!0,e.add(d),d.element.insertBefore(e.element,b?b.element:null),b=e.element):b=void 0}b&&(b.setAttribute("tabindex","-1"),b.style.outline="0",c?(e=a.series,d=e.chart.options.accessibility.point||{},e=e.options.accessibility||{},a=r(E(e.pointDescriptionFormatter&&e.pointDescriptionFormatter(a)||d.descriptionFormatter&&d.descriptionFormatter(a)||H(a))),b.setAttribute("role","img"),b.setAttribute("aria-label",
a)):b.setAttribute("aria-hidden",!0))})}function F(c){var b=c.chart,r=b.types||[],e=d(c),k=function(a){return b[a]&&1<b[a].length&&c[a]},z=a(c,"xAxis"),m=a(c,"yAxis"),E={name:c.name||"",ix:c.index+1,numSeries:b.series&&b.series.length,numPoints:c.points&&c.points.length,series:c};r=1<r.length?"Combination":"";return(b.langFormat("accessibility.series.summary."+c.type+r,E)||b.langFormat("accessibility.series.summary.default"+r,E))+(e?" "+e:"")+(k("yAxis")?" "+m:"")+(k("xAxis")?" "+z:"")}var B=b.getPointAnnotationTexts,
A=g.getAxisDescription,J=g.getSeriesFirstPointElement,x=g.getSeriesA11yElement,k=g.unhideChartElementFromAT,r=p.escapeStringForHTML,C=p.reverseChildNodes,E=p.stripHTMLTagsFromString,z=q.find,G=q.format,K=q.isNumber,N=q.numberFormat,I=q.pick,L=q.defined;return{describeSeries:function(a){var c=a.chart,b=J(a),d=x(a),e=c.is3d&&c.is3d();if(d){d.lastChild!==b||e||C(d);u(a);k(c,d);e=a.chart;c=e.options.chart||{};b=1<e.series.length;e=e.options.accessibility.series.describeSingleSeries;var z=(a.options.accessibility||
{}).exposeAsGroupOnly;c.options3d&&c.options3d.enabled&&b||!(b||e||z||f(a))?d.setAttribute("aria-label",""):(c=a.chart.options.accessibility,b=c.landmarkVerbosity,(a.options.accessibility||{}).exposeAsGroupOnly?d.setAttribute("role","img"):"all"===b&&d.setAttribute("role","region"),d.setAttribute("tabindex","-1"),d.style.outline="0",d.setAttribute("aria-label",r(E(c.series.descriptionFormatter&&c.series.descriptionFormatter(a)||F(a)))))}},defaultPointDescriptionFormatter:H,defaultSeriesDescriptionFormatter:F,
getPointA11yTimeDescription:c,getPointXDescription:e,getPointValue:w,getPointValueDescription:y}});u(b,"Accessibility/Utils/Announcer.js",[b["Core/Globals.js"],b["Accessibility/Utils/DOMElementProvider.js"],b["Accessibility/Utils/HTMLUtilities.js"]],function(b,g,p){var n=b.doc,q=p.setElAttrs,l=p.visuallyHideElement;p=function(){function b(b,f){this.chart=b;this.domElementProvider=new g;this.announceRegion=this.addAnnounceRegion(f)}b.prototype.destroy=function(){this.domElementProvider.destroyCreatedElements()};
b.prototype.announce=function(b){var f=this;this.announceRegion.innerHTML=b;this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer);this.clearAnnouncementRegionTimer=setTimeout(function(){f.announceRegion.innerHTML="";delete f.clearAnnouncementRegionTimer},1E3)};b.prototype.addAnnounceRegion=function(b){var f=this.chart.announcerContainer||this.createAnnouncerContainer(),h=this.domElementProvider.createElement("div");q(h,{"aria-hidden":!1,"aria-live":b});l(h);f.appendChild(h);
return h};b.prototype.createAnnouncerContainer=function(){var b=this.chart,f=n.createElement("div");q(f,{"aria-hidden":!1,style:"position:relative","class":"highcharts-announcer-container"});b.renderTo.insertBefore(f,b.renderTo.firstChild);return b.announcerContainer=f};return b}();return b.Announcer=p});u(b,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[b["Core/Globals.js"],b["Series/Line/LineSeries.js"],b["Core/Utilities.js"],b["Accessibility/Utils/ChartUtilities.js"],b["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],
b["Accessibility/Utils/Announcer.js"],b["Accessibility/Utils/EventProvider.js"]],function(b,g,p,n,q,l,f){function v(a){var c=a.series.data.filter(function(c){return a.x===c.x&&a.y===c.y});return 1===c.length?c[0]:a}function t(a,c){var b=(a||[]).concat(c||[]).reduce(function(a,c){a[c.name+c.index]=c;return a},{});return Object.keys(b).map(function(a){return b[a]})}var h=p.extend,d=p.defined,a=n.getChartTitle,c=q.defaultPointDescriptionFormatter,e=q.defaultSeriesDescriptionFormatter;p=function(a){this.chart=
a};h(p.prototype,{init:function(){var a=this.chart,c=a.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0;this.dirty={allSeries:{}};this.eventProvider=new f;this.announcer=new l(a,c);this.addEventListeners()},destroy:function(){this.eventProvider.removeAddedEvents();this.announcer.destroy()},addEventListeners:function(){var a=this,c=this.chart,b=this.eventProvider;b.addEvent(c,"afterDrilldown",function(){a.lastAnnouncementTime=0});b.addEvent(g,"updatedData",
function(){a.onSeriesUpdatedData(this)});b.addEvent(c,"afterAddSeries",function(c){a.onSeriesAdded(c.series)});b.addEvent(g,"addPoint",function(c){a.onPointAdded(c.point)});b.addEvent(c,"redraw",function(){a.announceDirtyData()})},onSeriesUpdatedData:function(a){var c=this.chart;a.chart===c&&c.options.accessibility.announceNewData.enabled&&(this.dirty.hasDirty=!0,this.dirty.allSeries[a.name+a.index]=a)},onSeriesAdded:function(a){this.chart.options.accessibility.announceNewData.enabled&&(this.dirty.hasDirty=
!0,this.dirty.allSeries[a.name+a.index]=a,this.dirty.newSeries=d(this.dirty.newSeries)?void 0:a)},onPointAdded:function(a){var c=a.series.chart;this.chart===c&&c.options.accessibility.announceNewData.enabled&&(this.dirty.newPoint=d(this.dirty.newPoint)?void 0:a)},announceDirtyData:function(){var a=this;if(this.chart.options.accessibility.announceNewData&&this.dirty.hasDirty){var c=this.dirty.newPoint;c&&(c=v(c));this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(function(c){return a.dirty.allSeries[c]}),
this.dirty.newSeries,c);this.dirty={allSeries:{}}}},queueAnnouncement:function(a,c,b){var d=this,e=this.chart.options.accessibility.announceNewData;if(e.enabled){var h=+new Date;e=Math.max(0,e.minAnnounceInterval-(h-this.lastAnnouncementTime));a=t(this.queuedAnnouncement&&this.queuedAnnouncement.series,a);if(c=this.buildAnnouncementMessage(a,c,b))this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:h,message:c,series:a},this.queuedAnnouncementTimer=setTimeout(function(){d&&
d.announcer&&(d.lastAnnouncementTime=+new Date,d.announcer.announce(d.queuedAnnouncement.message),delete d.queuedAnnouncement,delete d.queuedAnnouncementTimer)},e)}},buildAnnouncementMessage:function(d,h,f){var l=this.chart,m=l.options.accessibility.announceNewData;if(m.announcementFormatter&&(d=m.announcementFormatter(d,h,f),!1!==d))return d.length?d:null;d=b.charts&&1<b.charts.length?"Multiple":"Single";d=h?"newSeriesAnnounce"+d:f?"newPointAnnounce"+d:"newDataAnnounce";m=a(l);return l.langFormat("accessibility.announceNewData."+
d,{chartTitle:m,seriesDesc:h?e(h):null,pointDesc:f?c(f):null,point:f,series:h})}});return p});u(b,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[b["Series/Line/LineSeries.js"],b["Core/Utilities.js"]],function(b,g){function p(b){q(!0,b,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}var n=g.addEvent,q=g.merge;return function(){n(b,"render",function(){var b=this.options,f=!1!==(this.options.accessibility&&this.options.accessibility.enabled);if(f=this.chart.options.accessibility.enabled&&
f)f=this.chart.options.accessibility,f=this.points.length<f.series.pointDescriptionEnabledThreshold||!1===f.series.pointDescriptionEnabledThreshold;if(f){if(b.marker&&!1===b.marker.enabled&&(this.a11yMarkersForced=!0,p(this.options)),this._hasPointMarkers&&this.points&&this.points.length)for(b=this.points.length;b--;){f=this.points[b];var g=f.options;delete f.hasForcedA11yMarker;g.marker&&(g.marker.enabled?(q(!0,g.marker,{states:{normal:{opacity:g.marker.states&&g.marker.states.normal&&g.marker.states.normal.opacity||
1}}}),f.hasForcedA11yMarker=!1):(p(g),f.hasForcedA11yMarker=!0))}}else this.a11yMarkersForced&&(delete this.a11yMarkersForced,(b=this.resetA11yMarkerOptions)&&q(!0,this.options,{marker:{enabled:b.enabled,states:{normal:{opacity:b.states&&b.states.normal&&b.states.normal.opacity}}}}))});n(b,"afterSetOptions",function(b){this.resetA11yMarkerOptions=q(b.options.marker||{},this.userOptions.marker||{})});n(b,"afterRender",function(){if(this.chart.styledMode){if(this.markerGroup)this.markerGroup[this.a11yMarkersForced?
"addClass":"removeClass"]("highcharts-a11y-markers-hidden");this._hasPointMarkers&&this.points&&this.points.length&&this.points.forEach(function(b){b.graphic&&(b.graphic[b.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),b.graphic[!1===b.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))})}})}});u(b,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[b["Core/Globals.js"],b["Core/Utilities.js"],b["Accessibility/AccessibilityComponent.js"],
b["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"],b["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],b["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],b["Accessibility/Utils/ChartUtilities.js"],b["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],b["Core/Tooltip.js"]],function(b,g,p,n,q,l,f,v,t){g=g.extend;var h=f.hideSeriesFromAT,d=v.describeSeries;b.SeriesAccessibilityDescriber=v;l();b=function(){};b.prototype=new p;g(b.prototype,{init:function(){this.newDataAnnouncer=
new q(this.chart);this.newDataAnnouncer.init();this.keyboardNavigation=new n(this.chart,this.keyCodes);this.keyboardNavigation.init();this.hideTooltipFromATWhenShown();this.hideSeriesLabelsFromATWhenShown()},hideTooltipFromATWhenShown:function(){var a=this;this.addEvent(t,"refresh",function(){this.chart===a.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})},hideSeriesLabelsFromATWhenShown:function(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(a){a.labelBySeries&&
a.labelBySeries.attr("aria-hidden",!0)})})},onChartRender:function(){this.chart.series.forEach(function(a){!1!==(a.options.accessibility&&a.options.accessibility.enabled)&&a.visible?d(a):h(a)})},getKeyboardNavigation:function(){return this.keyboardNavigation.getKeyboardNavigationHandler()},destroy:function(){this.newDataAnnouncer.destroy();this.keyboardNavigation.destroy()}});return b});u(b,"Accessibility/Components/ZoomComponent.js",[b["Accessibility/AccessibilityComponent.js"],b["Accessibility/Utils/ChartUtilities.js"],
b["Core/Globals.js"],b["Accessibility/Utils/HTMLUtilities.js"],b["Accessibility/KeyboardNavigationHandler.js"],b["Core/Utilities.js"]],function(b,g,p,n,q,l){var f=g.unhideChartElementFromAT;g=p.noop;var v=n.removeElement,t=n.setElAttrs;n=l.extend;var h=l.pick;p.Axis.prototype.panStep=function(b,a){var c=a||3;a=this.getExtremes();var d=(a.max-a.min)/c*b;c=a.max+d;d=a.min+d;var h=c-d;0>b&&d<a.dataMin?(d=a.dataMin,c=d+h):0<b&&c>a.dataMax&&(c=a.dataMax,d=c-h);this.setExtremes(d,c)};g.prototype=new b;
n(g.prototype,{init:function(){var b=this,a=this.chart;["afterShowResetZoom","afterDrilldown","drillupall"].forEach(function(c){b.addEvent(a,c,function(){b.updateProxyOverlays()})})},onChartUpdate:function(){var b=this.chart,a=this;b.mapNavButtons&&b.mapNavButtons.forEach(function(c,d){f(b,c.element);a.setMapNavButtonAttrs(c.element,"accessibility.zoom.mapZoom"+(d?"Out":"In"))})},setMapNavButtonAttrs:function(b,a){var c=this.chart;a=c.langFormat(a,{chart:c});t(b,{tabindex:-1,role:"button","aria-label":a})},
onChartRender:function(){this.updateProxyOverlays()},updateProxyOverlays:function(){var b=this.chart;v(this.drillUpProxyGroup);v(this.resetZoomProxyGroup);b.resetZoomButton&&this.recreateProxyButtonAndGroup(b.resetZoomButton,"resetZoomProxyButton","resetZoomProxyGroup",b.langFormat("accessibility.zoom.resetZoomButton",{chart:b}));b.drillUpButton&&this.recreateProxyButtonAndGroup(b.drillUpButton,"drillUpProxyButton","drillUpProxyGroup",b.langFormat("accessibility.drillUpButton",{chart:b,buttonText:b.getDrilldownBackText()}))},
recreateProxyButtonAndGroup:function(b,a,c,e){v(this[c]);this[c]=this.addProxyGroup();this[a]=this.createProxyButton(b,this[c],{"aria-label":e,tabindex:-1})},getMapZoomNavigation:function(){var b=this.keyCodes,a=this.chart,c=this;return new q(a,{keyCodeMap:[[[b.up,b.down,b.left,b.right],function(a){return c.onMapKbdArrow(this,a)}],[[b.tab],function(a,b){return c.onMapKbdTab(this,b)}],[[b.space,b.enter],function(){return c.onMapKbdClick(this)}]],validate:function(){return!!(a.mapZoom&&a.mapNavButtons&&
a.mapNavButtons.length)},init:function(a){return c.onMapNavInit(a)}})},onMapKbdArrow:function(b,a){var c=this.keyCodes;this.chart[a===c.up||a===c.down?"yAxis":"xAxis"][0].panStep(a===c.left||a===c.up?-1:1);return b.response.success},onMapKbdTab:function(b,a){var c=this.chart;b=b.response;var d=(a=a.shiftKey)&&!this.focusedMapNavButtonIx||!a&&this.focusedMapNavButtonIx;c.mapNavButtons[this.focusedMapNavButtonIx].setState(0);if(d)return c.mapZoom(),b[a?"prev":"next"];this.focusedMapNavButtonIx+=a?-1:
1;a=c.mapNavButtons[this.focusedMapNavButtonIx];c.setFocusToElement(a.box,a.element);a.setState(2);return b.success},onMapKbdClick:function(b){this.fakeClickEvent(this.chart.mapNavButtons[this.focusedMapNavButtonIx].element);return b.response.success},onMapNavInit:function(b){var a=this.chart,c=a.mapNavButtons[0],d=a.mapNavButtons[1];c=0<b?c:d;a.setFocusToElement(c.box,c.element);c.setState(2);this.focusedMapNavButtonIx=0<b?0:1},simpleButtonNavigation:function(b,a,c){var d=this.keyCodes,f=this,g=
this.chart;return new q(g,{keyCodeMap:[[[d.tab,d.up,d.down,d.left,d.right],function(a,c){return this.response[a===d.tab&&c.shiftKey||a===d.left||a===d.up?"prev":"next"]}],[[d.space,d.enter],function(){var a=c(this,g);return h(a,this.response.success)}]],validate:function(){return g[b]&&g[b].box&&f[a]},init:function(){g.setFocusToElement(g[b].box,f[a])}})},getKeyboardNavigation:function(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(b,a){a.zoomOut()}),this.simpleButtonNavigation("drillUpButton",
"drillUpProxyButton",function(b,a){a.drillUp();return b.response.prev}),this.getMapZoomNavigation()]}});return g});u(b,"Extensions/RangeSelector.js",[b["Core/Axis/Axis.js"],b["Core/Chart/Chart.js"],b["Core/Globals.js"],b["Core/Options.js"],b["Core/Color/Palette.js"],b["Core/Renderer/SVG/SVGElement.js"],b["Core/Utilities.js"]],function(b,g,p,n,q,l,f){function v(a){if(-1!==a.indexOf("%L"))return"text";var c="aAdewbBmoyY".split("").some(function(c){return-1!==a.indexOf("%"+c)}),b="HkIlMS".split("").some(function(c){return-1!==
a.indexOf("%"+c)});return c&&b?"datetime-local":c?"date":b?"time":"text"}var t=n.defaultOptions,h=f.addEvent,d=f.createElement,a=f.css,c=f.defined,e=f.destroyObjectProperties,m=f.discardElement,w=f.extend,y=f.fireEvent,u=f.isNumber,D=f.merge,F=f.objectEach,B=f.pick,A=f.pInt,J=f.splat;w(t,{rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:q.neutralColor20,
inputBoxHeight:17,inputBoxWidth:90,inputDateFormat:"%b %e, %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{},labelStyle:{color:q.neutralColor60}}});t.lang=D(t.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"});var x=function(){function k(a){this.buttons=void 0;this.buttonOptions=k.prototype.defaultButtons;this.options=void 0;this.chart=
a;this.init(a)}k.prototype.clickButton=function(a,d){var r=this.chart,e=this.buttonOptions[a],k=r.xAxis[0],f=r.scroller&&r.scroller.getUnionExtremes()||k||{},g=f.dataMin,C=f.dataMax,m=k&&Math.round(Math.min(k.max,B(C,k.max))),x=e.type;f=e._range;var l,t=e.dataGrouping;if(null!==g&&null!==C){r.fixedRange=f;t&&(this.forcedDataGrouping=!0,b.prototype.setDataGrouping.call(k||{chart:this.chart},t,!1),this.frozenStates=e.preserveDataGrouping);if("month"===x||"year"===x)if(k){x={range:e,max:m,chart:r,dataMin:g,
dataMax:C};var q=k.minFromRange.call(x);u(x.newMax)&&(m=x.newMax)}else f=e;else if(f)q=Math.max(m-f,g),m=Math.min(q+f,C);else if("ytd"===x)if(k)"undefined"===typeof C&&(g=Number.MAX_VALUE,C=Number.MIN_VALUE,r.series.forEach(function(a){a=a.xData;g=Math.min(a[0],g);C=Math.max(a[a.length-1],C)}),d=!1),m=this.getYTDExtremes(C,g,r.time.useUTC),q=l=m.min,m=m.max;else{this.deferredYTDClick=a;return}else"all"===x&&k&&(q=g,m=C);c(q)&&(q+=e._offsetMin);c(m)&&(m+=e._offsetMax);this.setSelected(a);if(k)k.setExtremes(q,
m,B(d,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:e});else{var p=J(r.options.xAxis)[0];var w=p.range;p.range=f;var n=p.min;p.min=l;h(r,"load",function(){p.range=w;p.min=n})}y(this,"afterBtnClick")}};k.prototype.setSelected=function(a){this.selected=this.options.selected=a};k.prototype.init=function(a){var c=this,b=a.options.rangeSelector,d=b.buttons||c.defaultButtons.slice(),r=b.selected,e=function(){var a=c.minInput,b=c.maxInput;a&&a.blur&&y(a,"blur");b&&b.blur&&y(b,"blur")};c.chart=
a;c.options=b;c.buttons=[];c.buttonOptions=d;this.unMouseDown=h(a.container,"mousedown",e);this.unResize=h(a,"resize",e);d.forEach(c.computeButtonRange);"undefined"!==typeof r&&d[r]&&this.clickButton(r,!1);h(a,"load",function(){a.xAxis&&a.xAxis[0]&&h(a.xAxis[0],"setExtremes",function(b){this.max-this.min!==a.fixedRange&&"rangeSelectorButton"!==b.trigger&&"updatedData"!==b.trigger&&c.forcedDataGrouping&&!c.frozenStates&&this.setDataGrouping(!1,!1)})})};k.prototype.updateButtonStates=function(){var a=
this,c=this.chart,b=c.xAxis[0],d=Math.round(b.max-b.min),e=!b.hasVisibleSeries,k=c.scroller&&c.scroller.getUnionExtremes()||b,f=k.dataMin,h=k.dataMax;c=a.getYTDExtremes(h,f,c.time.useUTC);var g=c.min,m=c.max,x=a.selected,l=u(x),t=a.options.allButtonsEnabled,q=a.buttons;a.buttonOptions.forEach(function(c,r){var k=c._range,z=c.type,E=c.count||1,C=q[r],G=0,p=c._offsetMax-c._offsetMin;c=r===x;var w=k>h-f,n=k<b.minRange,v=!1,K=!1;k=k===d;("month"===z||"year"===z)&&d+36E5>=864E5*{month:28,year:365}[z]*
E-p&&d-36E5<=864E5*{month:31,year:366}[z]*E+p?k=!0:"ytd"===z?(k=m-g+p===d,v=!c):"all"===z&&(k=b.max-b.min>=h-f,K=!c&&l&&k);z=!t&&(w||n||K||e);E=c&&k||k&&!l&&!v||c&&a.frozenStates;z?G=3:E&&(l=!0,G=2);C.state!==G&&(C.setState(G),0===G&&x===r&&a.setSelected())})};k.prototype.computeButtonRange=function(a){var c=a.type,b=a.count||1,d={millisecond:1,second:1E3,minute:6E4,hour:36E5,day:864E5,week:6048E5};if(d[c])a._range=d[c]*b;else if("month"===c||"year"===c)a._range=864E5*{month:30,year:365}[c]*b;a._offsetMin=
B(a.offsetMin,0);a._offsetMax=B(a.offsetMax,0);a._range+=a._offsetMax-a._offsetMin};k.prototype.getInputValue=function(a){a="min"===a?this.minInput:this.maxInput;var c=this.chart.options.rangeSelector,b=this.chart.time;return a?("text"===a.type&&c.inputDateParser||this.defaultInputDateParser)(a.value,b.useUTC,b):0};k.prototype.setInputValue=function(a,b){var d=this.options,e=this.chart.time,r="min"===a?this.minInput:this.maxInput;a="min"===a?this.minDateBox:this.maxDateBox;if(r){var k=r.getAttribute("data-hc-time");
k=c(k)?Number(k):void 0;c(b)&&(c(k)&&r.setAttribute("data-hc-time-previous",k),r.setAttribute("data-hc-time",b),k=b);r.value=e.dateFormat(this.inputTypeFormats[r.type]||d.inputEditDateFormat,k);a&&a.attr({text:e.dateFormat(d.inputDateFormat,k)})}};k.prototype.setInputExtremes=function(a,c,b){if(a="min"===a?this.minInput:this.maxInput){var d=this.inputTypeFormats[a.type],e=this.chart.time;d&&(c=e.dateFormat(d,c),a.min!==c&&(a.min=c),b=e.dateFormat(d,b),a.max!==b&&(a.max=b))}};k.prototype.showInput=
function(c){var b="min"===c?this.minDateBox:this.maxDateBox;if((c="min"===c?this.minInput:this.maxInput)&&b&&this.inputGroup){var d="text"===c.type,e=this.inputGroup,r=e.translateX;e=e.translateY;a(c,{width:d?b.width-2+"px":"auto",height:d?b.height-2+"px":"auto",border:"2px solid silver"});d?a(c,{left:r+b.x+"px",top:e+"px"}):a(c,{left:Math.min(Math.round(b.x+r-(c.offsetWidth-b.width)/2),this.chart.chartWidth-c.offsetWidth)+"px",top:e-(c.offsetHeight-b.height)/2+"px"})}};k.prototype.hideInput=function(c){(c=
"min"===c?this.minInput:this.maxInput)&&a(c,{top:"-9999em",border:0,width:"1px",height:"1px"})};k.prototype.defaultInputDateParser=function(a,c,b){var d=a.split("/").join("-").split(" ").join("T");-1===d.indexOf("T")&&(d+="T00:00");if(c)d+="Z";else{var e;if(e=p.isSafari)e=d,e=!(6<e.length&&(e.lastIndexOf("-")===e.length-6||e.lastIndexOf("+")===e.length-6));e&&(e=(new Date(d)).getTimezoneOffset()/60,d+=0>=e?"+"+p.pad(-e)+":00":"-"+p.pad(e)+":00")}d=Date.parse(d);u(d)||(a=a.split("-"),d=Date.UTC(A(a[0]),
A(a[1])-1,A(a[2])));b&&c&&(d+=b.getTimezoneOffset(d));return d};k.prototype.drawInput=function(c){function b(){var a=f.getInputValue(c),b=e.xAxis[0],d=e.scroller&&e.scroller.xAxis?e.scroller.xAxis:b,k=d.dataMin;d=d.dataMax;var r=f.maxInput,h=f.minInput;a!==Number(n.getAttribute("data-hc-time-previous"))&&u(a)&&(n.setAttribute("data-hc-time-previous",a),x&&r&&u(k)?a>Number(r.getAttribute("data-hc-time"))?a=void 0:a<k&&(a=k):h&&u(d)&&(a<Number(h.getAttribute("data-hc-time"))?a=void 0:a>d&&(a=d)),"undefined"!==
typeof a&&b.setExtremes(x?a:b.min,x?b.max:a,void 0,void 0,{trigger:"rangeSelectorInput"}))}var e=this.chart,k=this.div,r=this.inputGroup,f=this,h=e.renderer.style||{},g=e.renderer,m=e.options.rangeSelector,x="min"===c,l=g.label(t.lang[x?"rangeSelectorFrom":"rangeSelectorTo"],0).addClass("highcharts-range-label").attr({padding:2}).add(r);g=g.label("",0).addClass("highcharts-range-input").attr({padding:2,width:m.inputBoxWidth,height:m.inputBoxHeight,"text-align":"center"}).on("click",function(){f.showInput(c);
f[c+"Input"].focus()});e.styledMode||g.attr({stroke:m.inputBoxBorderColor,"stroke-width":1});g.add(r);var n=d("input",{name:c,className:"highcharts-range-selector",type:v(m.inputDateFormat||"%b %e, %Y")},void 0,k);e.styledMode||(l.css(D(h,m.labelStyle)),g.css(D({color:q.neutralColor80},h,m.inputStyle)),a(n,w({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:h.fontSize,fontFamily:h.fontFamily,top:"-9999em"},m.inputStyle)));
n.onfocus=function(){f.showInput(c)};n.onblur=function(){n===p.doc.activeElement&&b();f.hideInput(c);f.setInputValue(c);n.blur()};var y=!1;n.onchange=function(){b();y||(f.hideInput(c),n.blur())};n.onkeypress=function(a){13===a.keyCode&&b()};n.onkeydown=function(){y=!0};n.onkeyup=function(){y=!1};return{dateBox:g,input:n,label:l}};k.prototype.getPosition=function(){var a=this.chart,c=a.options.rangeSelector;a="top"===c.verticalAlign?a.plotTop-a.axisOffset[0]:0;return{buttonTop:a+c.buttonPosition.y,
inputTop:a+c.inputPosition.y-10}};k.prototype.getYTDExtremes=function(a,c,b){var d=this.chart.time,e=new d.Date(a),k=d.get("FullYear",e);b=b?d.Date.UTC(k,0,1):+new d.Date(k,0,1);c=Math.max(c,b);e=e.getTime();return{max:Math.min(a||e,e),min:c}};k.prototype.render=function(a,b){var e=this.chart,k=e.renderer,r=e.container,f=e.options,h=f.rangeSelector,g=B(f.chart.style&&f.chart.style.zIndex,0)+1;f=h.inputEnabled;if(!1!==h.enabled){this.rendered||(this.group=k.g("range-selector-group").attr({zIndex:7}).add(),
this.div=d("div",void 0,{position:"relative",height:0,zIndex:g}),this.renderButtons(),f&&r.parentNode&&(r.parentNode.insertBefore(this.div,r),this.inputGroup=k.g("input-group").add(this.group),k=this.drawInput("min"),this.minDateBox=k.dateBox,this.minLabel=k.label,this.minInput=k.input,k=this.drawInput("max"),this.maxDateBox=k.dateBox,this.maxLabel=k.label,this.maxInput=k.input));if(f&&(this.setInputValue("min",a),this.setInputValue("max",b),a=e.scroller&&e.scroller.getUnionExtremes()||e.xAxis[0]||
{},c(a.dataMin)&&c(a.dataMax)&&(e=e.xAxis[0].minRange||0,this.setInputExtremes("min",a.dataMin,Math.min(a.dataMax,this.getInputValue("max"))-e),this.setInputExtremes("max",Math.max(a.dataMin,this.getInputValue("min"))+e,a.dataMax)),this.inputGroup)){var m=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(function(a,c){a&&(a.attr({x:m}),m+=a.width+h.inputSpacing,c%2&&(m+=h.inputSpacing))})}this.alignElements();this.rendered=!0}};k.prototype.renderButtons=function(){var a=this,
c=t.lang,b=this.chart.renderer,d=this.options,e=this.buttons,k=d.buttonTheme,f=k&&k.states;this.buttonGroup=b.g("range-selector-buttons").add(this.group);this.zoomText=b.text(c.rangeSelectorZoom,0,15).add(this.buttonGroup);this.chart.styledMode||(this.zoomText.css(d.labelStyle),k["stroke-width"]=B(k["stroke-width"],0));this.buttonOptions.forEach(function(c,d){e[d]=b.button(c.text,0,0,function(b){var e=c.events&&c.events.click,k;e&&(k=e.call(c,b));!1!==k&&a.clickButton(d);a.isActive=!0},k,f&&f.hover,
f&&f.select,f&&f.disabled).attr({"text-align":"center"}).add(a.buttonGroup);c.title&&e[d].attr("title",c.title)})};k.prototype.alignElements=function(){var a=this,c=this.buttonGroup,b=this.buttons,d=this.chart,e=this.group,k=this.inputGroup,f=this.options,h=this.zoomText,g=d.options,m=g.exporting&&!1!==g.exporting.enabled&&g.navigation&&g.navigation.buttonOptions,x=d.hasLoaded?"animate":"attr";g=f.buttonPosition;var l=f.inputPosition,t=f.verticalAlign,n=function(c,b){return m&&a.titleCollision(d)&&
"top"===t&&"right"===b.align&&b.y-c.getBBox().height-12<(m.y||0)+(m.height||0)+d.spacing[0]?-40:0},q=d.plotLeft,p=q;if(e&&g&&l){var w=g.x-d.spacing[3];c&&(h&&(h[x]({x:B(q+g.x,q)}),p+=g.x+h.getBBox().width+5),this.buttonOptions.forEach(function(a,c){b[c][x]({x:p});p+=b[c].width+f.buttonSpacing}),q-=d.spacing[3],this.updateButtonStates(),h=n(c,g),"right"===g.align?w+=h-q:"center"===g.align&&(w-=q/2),c.align({y:g.y,width:c.getBBox().width,align:g.align,x:w},!0,d.spacingBox),e.placed=c.placed=d.hasLoaded);
k&&(h=n(k,l),"left"===l.align?w=q:"right"===l.align&&(w=-Math.max(d.axisOffset[1],-h)),k.align({y:l.y,width:k.getBBox().width,align:l.align,x:l.x+w-2},!0,d.spacingBox),c&&this.handleCollision(h),k.placed=d.hasLoaded);e.align({verticalAlign:t},!0,d.spacingBox);c=e.alignAttr.translateY;k=e.getBBox().height+20;h=0;"bottom"===t&&(h=(h=d.legend&&d.legend.options)&&"bottom"===h.verticalAlign&&h.enabled&&!h.floating?d.legend.legendHeight+B(h.margin,10):0,k=k+h-20,h=c-k-(f.floating?0:f.y)-(d.titleOffset?
d.titleOffset[2]:0)-10);if("top"===t)f.floating&&(h=0),d.titleOffset&&d.titleOffset[0]&&(h=d.titleOffset[0]),h+=d.margin[0]-d.spacing[0]||0;else if("middle"===t)if(l.y===g.y)h=c;else if(l.y||g.y)h=0>l.y||0>g.y?h-Math.min(l.y,g.y):c-k;e.translate(f.x,f.y+Math.floor(h));g=this.minInput;l=this.maxInput;f.inputEnabled&&g&&l&&(g.style.marginTop=e.translateY+"px",l.style.marginTop=e.translateY+"px")}};k.prototype.handleCollision=function(a){var c=this.chart,b=this.buttonGroup,d=this.inputGroup,e=this.options,
k=e.buttonPosition;e=e.inputPosition;if(d&&b){var f=d.alignAttr.translateX+d.alignOptions.x-a+d.getBBox().x+2,h=d.alignOptions.width,r=b.alignAttr.translateX+b.getBBox().x,g=b.getBBox().width+20;(e.align===k.align||r+g>f&&f+h>r&&k.y<e.y+d.getBBox().height)&&d.attr({translateX:d.alignAttr.translateX+(c.axisOffset[1]>=-a?0:-a),translateY:d.alignAttr.translateY+b.getBBox().height+10})}};k.prototype.getHeight=function(){var a=this.options,c=this.group,b=a.y,d=a.buttonPosition.y,e=a.inputPosition.y;if(a.height)return a.height;
a=c?c.getBBox(!0).height+13+b:0;c=Math.min(e,d);if(0>e&&0>d||0<e&&0<d)a+=Math.abs(c);return a};k.prototype.titleCollision=function(a){return!(a.options.title.text||a.options.subtitle.text)};k.prototype.update=function(a){var c=this.chart;D(!0,c.options.rangeSelector,a);this.destroy();this.init(c);this.render()};k.prototype.destroy=function(){var a=this,c=a.minInput,b=a.maxInput;a.unMouseDown&&a.unMouseDown();a.unResize&&a.unResize();e(a.buttons);c&&(c.onfocus=c.onblur=c.onchange=null);b&&(b.onfocus=
b.onblur=b.onchange=null);F(a,function(c,b){c&&"chart"!==b&&(c instanceof l?c.destroy():c instanceof window.HTMLElement&&m(c));c!==k.prototype[b]&&(a[b]=null)},this)};return k}();x.prototype.defaultButtons=[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}];
x.prototype.inputTypeFormats={"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"};b.prototype.minFromRange=function(){var a=this.range,c=a.type,b=this.max,d=this.chart.time,e=function(a,b){var e="year"===c?"FullYear":"Month",k=new d.Date(a),f=d.get(e,k);d.set(e,k,f+b);f===d.get(e,k)&&d.set("Date",k,0);return k.getTime()-a};if(u(a)){var f=b-a;var h=a}else f=b+e(b,-a.count),this.chart&&(this.chart.fixedRange=b-f);var g=B(this.dataMin,Number.MIN_VALUE);u(f)||(f=g);f<=g&&(f=g,"undefined"===
typeof h&&(h=e(f,a.count)),this.newMax=Math.min(f+h,this.dataMax));u(b)||(f=void 0);return f};p.RangeSelector||(h(g,"afterGetContainer",function(){var a;if(null===(a=this.options.rangeSelector)||void 0===a?0:a.enabled)this.rangeSelector=new x(this)}),h(g,"beforeRender",function(){var a=this.axes,c=this.rangeSelector;c&&(u(c.deferredYTDClick)&&(c.clickButton(c.deferredYTDClick),delete c.deferredYTDClick),a.forEach(function(a){a.updateNames();a.setScale()}),this.getAxisMargins(),c.render(),a=c.options.verticalAlign,
c.options.floating||("bottom"===a?this.extraBottomMargin=!0:"middle"!==a&&(this.extraTopMargin=!0)))}),h(g,"update",function(a){var b=a.options.rangeSelector;a=this.rangeSelector;var d=this.extraBottomMargin,e=this.extraTopMargin;b&&b.enabled&&!c(a)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=new x(this));this.extraTopMargin=this.extraBottomMargin=!1;a&&(a.render(),b=b&&b.verticalAlign||a.options&&a.options.verticalAlign,a.options.floating||("bottom"===b?
this.extraBottomMargin=!0:"middle"!==b&&(this.extraTopMargin=!0)),this.extraBottomMargin!==d||this.extraTopMargin!==e)&&(this.isDirtyBox=!0)}),h(g,"render",function(){var a=this.rangeSelector;a&&!a.options.floating&&(a.render(),a=a.options.verticalAlign,"bottom"===a?this.extraBottomMargin=!0:"middle"!==a&&(this.extraTopMargin=!0))}),h(g,"getMargins",function(){var a=this.rangeSelector;a&&(a=a.getHeight(),this.extraTopMargin&&(this.plotTop+=a),this.extraBottomMargin&&(this.marginBottom+=a))}),g.prototype.callbacks.push(function(a){function c(){d&&
(b=a.xAxis[0].getExtremes(),e=a.legend,k=null===d||void 0===d?void 0:d.options.verticalAlign,u(b.min)&&d.render(b.min,b.max),e.display&&"top"===k&&k===e.options.verticalAlign&&(f=D(a.spacingBox),f.y="vertical"===e.options.layout?a.plotTop:f.y+d.getHeight(),e.group.placed=!1,e.align(f)))}var b,d=a.rangeSelector,e,f,k;if(d){var g=h(a.xAxis[0],"afterSetExtremes",function(a){d.render(a.min,a.max)});var m=h(a,"redraw",c);c()}h(a,"destroy",function(){d&&(m(),g())})}),p.RangeSelector=x);return p.RangeSelector});
u(b,"Accessibility/Components/RangeSelectorComponent.js",[b["Accessibility/AccessibilityComponent.js"],b["Accessibility/Utils/ChartUtilities.js"],b["Accessibility/Utils/Announcer.js"],b["Core/Globals.js"],b["Accessibility/Utils/HTMLUtilities.js"],b["Accessibility/KeyboardNavigationHandler.js"],b["Core/Utilities.js"],b["Extensions/RangeSelector.js"]],function(b,g,p,n,q,l,f,v){var t=g.unhideChartElementFromAT,h=g.getAxisRangeDescription,d=q.setElAttrs;g=f.extend;n.Chart.prototype.highlightRangeSelectorButton=
function(a){var c,b,d=(null===(c=this.rangeSelector)||void 0===c?void 0:c.buttons)||[];c=this.highlightedRangeSelectorItemIx;var f=null===(b=this.rangeSelector)||void 0===b?void 0:b.selected;"undefined"!==typeof c&&d[c]&&c!==f&&d[c].setState(this.oldRangeSelectorItemState||0);this.highlightedRangeSelectorItemIx=a;return d[a]?(this.setFocusToElement(d[a].box,d[a].element),a!==f&&(this.oldRangeSelectorItemState=d[a].state,d[a].setState(1)),!0):!1};n.addEvent(v,"afterBtnClick",function(){var a,c=null===
(a=this.chart.accessibility)||void 0===a?void 0:a.components.rangeSelector;return null===c||void 0===c?void 0:c.onAfterBtnClick()});n=function(){};n.prototype=new b;g(n.prototype,{init:function(){this.announcer=new p(this.chart,"polite")},onChartUpdate:function(){var a,c=this.chart,b=this,d=c.rangeSelector;d&&((null===(a=d.buttons)||void 0===a?0:a.length)&&d.buttons.forEach(function(a){t(c,a.element);b.setRangeButtonAttrs(a)}),d.maxInput&&d.minInput&&["minInput","maxInput"].forEach(function(a,e){if(a=
d[a])t(c,a),b.setRangeInputAttrs(a,"accessibility.rangeSelector."+(e?"max":"min")+"InputLabel")}))},setRangeButtonAttrs:function(a){d(a.element,{tabindex:-1,role:"button"})},setRangeInputAttrs:function(a,c){var b=this.chart;d(a,{tabindex:-1,role:"textbox","aria-label":b.langFormat(c,{chart:b})})},getRangeSelectorButtonNavigation:function(){var a=this.chart,c=this.keyCodes,b=this;return new l(a,{keyCodeMap:[[[c.left,c.right,c.up,c.down],function(a){return b.onButtonNavKbdArrowKey(this,a)}],[[c.enter,
c.space],function(){return b.onButtonNavKbdClick(this)}]],validate:function(){return a.rangeSelector&&a.rangeSelector.buttons&&a.rangeSelector.buttons.length},init:function(c){var b=a.rangeSelector.buttons.length-1;a.highlightRangeSelectorButton(0<c?0:b)}})},onButtonNavKbdArrowKey:function(a,c){var b=a.response,d=this.keyCodes,f=this.chart,h=f.options.accessibility.keyboardNavigation.wrapAround;c=c===d.left||c===d.up?-1:1;return f.highlightRangeSelectorButton(f.highlightedRangeSelectorItemIx+c)?b.success:
h?(a.init(c),b.success):b[0<c?"next":"prev"]},onButtonNavKbdClick:function(a){a=a.response;var c=this.chart;3!==c.oldRangeSelectorItemState&&this.fakeClickEvent(c.rangeSelector.buttons[c.highlightedRangeSelectorItemIx].element);return a.success},onAfterBtnClick:function(){var a=this.chart,c=h(a.xAxis[0]);(a=a.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:a,axisRangeDescription:c}))&&this.announcer.announce(a)},getRangeSelectorInputNavigation:function(){var a=this.chart,c=
this.keyCodes,b=this;return new l(a,{keyCodeMap:[[[c.tab,c.up,c.down],function(a,d){return b.onInputKbdMove(this,a===c.tab&&d.shiftKey||a===c.up?-1:1)}]],validate:function(){return!!(a.rangeSelector&&a.rangeSelector.inputGroup&&"hidden"!==a.rangeSelector.inputGroup.element.getAttribute("visibility")&&!1!==a.options.rangeSelector.inputEnabled&&a.rangeSelector.minInput&&a.rangeSelector.maxInput)},init:function(a){b.onInputNavInit(a)},terminate:function(){b.onInputNavTerminate()}})},onInputKbdMove:function(a,
c){var b=this.chart;a=a.response;var d=b.highlightedInputRangeIx+=c;if(1<d||0>d)return a[0<c?"next":"prev"];b.rangeSelector[d?"maxInput":"minInput"].focus();return a.success},onInputNavInit:function(a){var c=this.chart;a=0<a?0:1;c.highlightedInputRangeIx=a;c.rangeSelector[a?"maxInput":"minInput"].focus()},onInputNavTerminate:function(){var a=this.chart.rangeSelector||{};a.maxInput&&a.hideInput("max");a.minInput&&a.hideInput("min")},getKeyboardNavigation:function(){return[this.getRangeSelectorButtonNavigation(),
this.getRangeSelectorInputNavigation()]},destroy:function(){var a;null===(a=this.announcer)||void 0===a?void 0:a.destroy()}});return n});u(b,"Accessibility/Components/InfoRegionsComponent.js",[b["Core/Globals.js"],b["Core/Utilities.js"],b["Accessibility/AccessibilityComponent.js"],b["Accessibility/Utils/Announcer.js"],b["Accessibility/Components/AnnotationsA11y.js"],b["Accessibility/Utils/ChartUtilities.js"],b["Accessibility/Utils/HTMLUtilities.js"]],function(b,g,p,n,q,l,f){function v(a){return a.replace(/&lt;(h[1-7]|p|div|ul|ol|li)&gt;/g,
"<$1>").replace(/&lt;&#x2F;(h[1-7]|p|div|ul|ol|li|a|button)&gt;/g,"</$1>").replace(/&lt;(div|a|button) id=&quot;([a-zA-Z\-0-9#]*?)&quot;&gt;/g,'<$1 id="$2">')}var t=b.doc,h=g.extend,d=g.format,a=g.pick,c=q.getAnnotationsInfoHTML,e=l.getAxisDescription,m=l.getAxisRangeDescription,w=l.getChartTitle,y=l.unhideChartElementFromAT,u=f.addClass,D=f.setElAttrs,F=f.escapeStringForHTML,B=f.stripHTMLTagsFromString,A=f.getElement,J=f.visuallyHideElement;b.Chart.prototype.getTypeDescription=function(a){var c=
a[0],b=this.series&&this.series[0]||{};b={numSeries:this.series.length,numPoints:b.points&&b.points.length,chart:this,mapTitle:b.mapTitle};if(!c)return this.langFormat("accessibility.chartTypes.emptyChart",b);if("map"===c)return b.mapTitle?this.langFormat("accessibility.chartTypes.mapTypeDescription",b):this.langFormat("accessibility.chartTypes.unknownMap",b);if(1<this.types.length)return this.langFormat("accessibility.chartTypes.combinationChart",b);a=a[0];c=this.langFormat("accessibility.seriesTypeDescriptions."+
a,b);var d=this.series&&2>this.series.length?"Single":"Multiple";return(this.langFormat("accessibility.chartTypes."+a+d,b)||this.langFormat("accessibility.chartTypes.default"+d,b))+(c?" "+c:"")};g=function(){};g.prototype=new p;h(g.prototype,{init:function(){var a=this.chart,c=this;this.initRegionsDefinitions();this.addEvent(a,"afterGetTable",function(a){c.onDataTableCreated(a)});this.addEvent(a,"afterViewData",function(a){c.dataTableDiv=a;setTimeout(function(){c.focusDataTable()},300)});this.announcer=
new n(a,"assertive")},initRegionsDefinitions:function(){var a=this;this.screenReaderSections={before:{element:null,buildContent:function(c){var b=c.options.accessibility.screenReaderSection.beforeChartFormatter;return b?b(c):a.defaultBeforeChartFormatter(c)},insertIntoDOM:function(a,c){c.renderTo.insertBefore(a,c.renderTo.firstChild)},afterInserted:function(){"undefined"!==typeof a.sonifyButtonId&&a.initSonifyButton(a.sonifyButtonId);"undefined"!==typeof a.dataTableButtonId&&a.initDataTableButton(a.dataTableButtonId)}},
after:{element:null,buildContent:function(c){var b=c.options.accessibility.screenReaderSection.afterChartFormatter;return b?b(c):a.defaultAfterChartFormatter()},insertIntoDOM:function(a,c){c.renderTo.insertBefore(a,c.container.nextSibling)}}}},onChartRender:function(){var a=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement();this.setLinkedDescriptionAttrs();Object.keys(this.screenReaderSections).forEach(function(c){a.updateScreenReaderSection(c)})},getLinkedDescriptionElement:function(){var a=
this.chart.options.accessibility.linkedDescription;if(a){if("string"!==typeof a)return a;a=d(a,this.chart);a=t.querySelectorAll(a);if(1===a.length)return a[0]}},setLinkedDescriptionAttrs:function(){var a=this.linkedDescriptionElement;a&&(a.setAttribute("aria-hidden","true"),u(a,"highcharts-linked-description"))},updateScreenReaderSection:function(a){var c=this.chart,b=this.screenReaderSections[a],d=b.buildContent(c),e=b.element=b.element||this.createElement("div"),f=e.firstChild||this.createElement("div");
this.setScreenReaderSectionAttribs(e,a);f.innerHTML=d;e.appendChild(f);b.insertIntoDOM(e,c);J(f);y(c,f);b.afterInserted&&b.afterInserted()},setScreenReaderSectionAttribs:function(a,c){var b=this.chart,d=b.langFormat("accessibility.screenReaderSection."+c+"RegionLabel",{chart:b});D(a,{id:"highcharts-screen-reader-region-"+c+"-"+b.index,"aria-label":d});a.style.position="relative";"all"===b.options.accessibility.landmarkVerbosity&&d&&a.setAttribute("role","region")},defaultBeforeChartFormatter:function(){var a,
d=this.chart,e=d.options.accessibility.screenReaderSection.beforeChartFormat,f=this.getAxesDescription(),h=d.sonify&&(null===(a=d.options.sonification)||void 0===a?void 0:a.enabled);a="highcharts-a11y-sonify-data-btn-"+d.index;var g="hc-linkto-highcharts-data-table-"+d.index,l=c(d),m=d.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:d});f={chartTitle:w(d),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),
xAxisDescription:f.xAxis,yAxisDescription:f.yAxis,playAsSoundButton:h?this.getSonifyButtonText(a):"",viewTableButton:d.getCSV?this.getDataTableButtonText(g):"",annotationsTitle:l?m:"",annotationsList:l};d=b.i18nFormat(e,f,d);this.dataTableButtonId=g;this.sonifyButtonId=a;return v(F(d)).replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")},defaultAfterChartFormatter:function(){var a=this.chart,c=a.options.accessibility.screenReaderSection.afterChartFormat,d={endOfChartMarker:this.getEndOfChartMarkerText()};a=b.i18nFormat(c,
d,a);return v(F(a)).replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")},getLinkedDescription:function(){var a=this.linkedDescriptionElement;return B(a&&a.innerHTML||"")},getLongdescText:function(){var a=this.chart.options,c=a.caption;c=c&&c.text;var b=this.getLinkedDescription();return a.accessibility.description||b||c||""},getTypeDescriptionText:function(){var a=this.chart;return a.types?a.options.accessibility.typeDescription||a.getTypeDescription(a.types):""},getDataTableButtonText:function(a){var c=this.chart;
c=c.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:c,chartTitle:w(c)});return'<button id="'+a+'">'+c+"</button>"},getSonifyButtonText:function(a){var c,b=this.chart;if(!1===(null===(c=b.options.sonification)||void 0===c?void 0:c.enabled))return"";c=b.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:b,chartTitle:w(b)});return'<button id="'+a+'">'+c+"</button>"},getSubtitleText:function(){var a=this.chart.options.subtitle;return B(a&&a.text||"")},getEndOfChartMarkerText:function(){var a=
this.chart,c=a.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:a});return'<div id="highcharts-end-of-chart-marker-'+a.index+'">'+c+"</div>"},onDataTableCreated:function(a){var c=this.chart;c.options.accessibility.enabled&&(this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true"),a.html=a.html.replace("<table ",'<table tabindex="-1" summary="'+c.langFormat("accessibility.table.tableSummary",{chart:c})+'"'))},focusDataTable:function(){var a=this.dataTableDiv;
(a=a&&a.getElementsByTagName("table")[0])&&a.focus&&a.focus()},initSonifyButton:function(a){var c=this,b=this.sonifyButton=A(a),d=this.chart,e=function(a){null===b||void 0===b?void 0:b.setAttribute("aria-hidden","true");null===b||void 0===b?void 0:b.setAttribute("aria-label","");a.preventDefault();a.stopPropagation();a=d.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:d});c.announcer.announce(a);setTimeout(function(){null===b||void 0===b?void 0:b.removeAttribute("aria-hidden");
null===b||void 0===b?void 0:b.removeAttribute("aria-label");d.sonify&&d.sonify()},1E3)};b&&d&&(D(b,{tabindex:"-1"}),b.onclick=function(a){var c;((null===(c=d.options.accessibility)||void 0===c?void 0:c.screenReaderSection.onPlayAsSoundClick)||e).call(this,a,d)})},initDataTableButton:function(a){var c=this.viewDataTableButton=A(a),b=this.chart;a=a.replace("hc-linkto-","");c&&(D(c,{tabindex:"-1","aria-expanded":!!A(a)}),c.onclick=b.options.accessibility.screenReaderSection.onViewDataTableClick||function(){b.viewData()})},
getAxesDescription:function(){var c=this.chart,b=function(b,d){b=c[b];return 1<b.length||b[0]&&a(b[0].options.accessibility&&b[0].options.accessibility.enabled,d)},d=!!c.types&&0>c.types.indexOf("map"),e=!!c.hasCartesianSeries,f=b("xAxis",!c.angular&&e&&d);b=b("yAxis",e&&d);d={};f&&(d.xAxis=this.getAxisDescriptionText("xAxis"));b&&(d.yAxis=this.getAxisDescriptionText("yAxis"));return d},getAxisDescriptionText:function(a){var c=this.chart,b=c[a];return c.langFormat("accessibility.axis."+a+"Description"+
(1<b.length?"Plural":"Singular"),{chart:c,names:b.map(function(a){return e(a)}),ranges:b.map(function(a){return m(a)}),numAxes:b.length})},destroy:function(){var a;null===(a=this.announcer)||void 0===a?void 0:a.destroy()}});return g});u(b,"Accessibility/Components/ContainerComponent.js",[b["Accessibility/AccessibilityComponent.js"],b["Accessibility/Utils/ChartUtilities.js"],b["Core/Globals.js"],b["Accessibility/Utils/HTMLUtilities.js"],b["Core/Utilities.js"]],function(b,g,p,n,q){var l=g.unhideChartElementFromAT,
f=g.getChartTitle,v=p.doc,t=n.stripHTMLTagsFromString;g=q.extend;p=function(){};p.prototype=new b;g(p.prototype,{onChartUpdate:function(){this.handleSVGTitleElement();this.setSVGContainerLabel();this.setGraphicContainerAttrs();this.setRenderToAttrs();this.makeCreditsAccessible()},handleSVGTitleElement:function(){var b=this.chart,d="highcharts-title-"+b.index,a=t(b.langFormat("accessibility.svgContainerTitle",{chartTitle:f(b)}));if(a.length){var c=this.svgTitleElement=this.svgTitleElement||v.createElementNS("http://www.w3.org/2000/svg",
"title");c.textContent=a;c.id=d;b.renderTo.insertBefore(c,b.renderTo.firstChild)}},setSVGContainerLabel:function(){var b=this.chart,d=t(b.langFormat("accessibility.svgContainerLabel",{chartTitle:f(b)}));b.renderer.box&&d.length&&b.renderer.box.setAttribute("aria-label",d)},setGraphicContainerAttrs:function(){var b=this.chart,d=b.langFormat("accessibility.graphicContainerLabel",{chartTitle:f(b)});d.length&&b.container.setAttribute("aria-label",d)},setRenderToAttrs:function(){var b=this.chart;"disabled"!==
b.options.accessibility.landmarkVerbosity?b.renderTo.setAttribute("role","region"):b.renderTo.removeAttribute("role");b.renderTo.setAttribute("aria-label",b.langFormat("accessibility.chartContainerLabel",{title:f(b),chart:b}))},makeCreditsAccessible:function(){var b=this.chart,d=b.credits;d&&(d.textStr&&d.element.setAttribute("aria-label",t(b.langFormat("accessibility.credits",{creditsStr:d.textStr}))),l(b,d.element))},destroy:function(){this.chart.renderTo.setAttribute("aria-hidden",!0)}});return p});
u(b,"Accessibility/HighContrastMode.js",[b["Core/Globals.js"]],function(b){var g=b.doc,p=b.isMS,n=b.win;return{isHighContrastModeActive:function(){var b=/(Edg)/.test(n.navigator.userAgent);if(n.matchMedia&&b)return n.matchMedia("(-ms-high-contrast: active)").matches;if(p&&n.getComputedStyle){b=g.createElement("div");b.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)";g.body.appendChild(b);var l=(b.currentStyle||n.getComputedStyle(b)).backgroundImage;
g.body.removeChild(b);return"none"===l}return!1},setHighContrastTheme:function(b){b.highContrastModeActive=!0;var g=b.options.accessibility.highContrastTheme;b.update(g,!1);b.series.forEach(function(b){var f=g.plotOptions[b.type]||{};b.update({color:f.color||"windowText",colors:[f.color||"windowText"],borderColor:f.borderColor||"window"});b.points.forEach(function(b){b.options&&b.options.color&&b.update({color:f.color||"windowText",borderColor:f.borderColor||"window"},!1)})});b.redraw()}}});u(b,"Accessibility/HighContrastTheme.js",
[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",
tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},
boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},labels:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",
theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",
series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}});u(b,"Accessibility/Options/Options.js",[b["Core/Color/Palette.js"]],function(b){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<h5>{chartTitle}</h5><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",
afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{index}. {xDescription}{separator}{value}."},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:b.highlightColor80,lineWidth:2,borderRadius:3},margin:2},order:["series","zoom",
"rangeSelector","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5E3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}}}});u(b,"Accessibility/Options/LangOptions.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",
drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"Chart screen reader information.",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{ Also related to, #each(additionalAnnotationPoints)}",descriptionNoPoints:"{annotationText}"},
endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabel:"Toggle series visibility",legendItem:"Hide {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",
tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",
arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",
funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",
defaultSingle:"Chart with {numPoints} data {#plural(numPoints, points, point)}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",columnMultiple:"Bar chart with {numSeries} data series.",
barSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#plural(numPoints, slices, slice)}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#plural(numPoints, points, point)}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotMultiple:"Boxplot with {numSeries} data series.",
bubbleSingle:"Bubble chart with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each(names, -1) }and {names[-1]}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each(names, -1) }and {names[-1]}.",
timeRangeDays:"Range: {range} days.",timeRangeHours:"Range: {range} hours.",timeRangeMinutes:"Range: {range} minutes.",timeRangeSeconds:"Range: {range} seconds.",rangeFromTo:"Range: {rangeFrom} to {rangeTo}.",rangeCategories:"Range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu",exportRegionLabel:"Chart menu"},series:{summary:{"default":"{name}, series {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",defaultCombination:"{name}, series {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",
line:"{name}, line {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",lineCombination:"{name}, series {ix} of {numSeries}. Line with {numPoints} data {#plural(numPoints, points, point)}.",spline:"{name}, line {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",splineCombination:"{name}, series {ix} of {numSeries}. Line with {numPoints} data {#plural(numPoints, points, point)}.",column:"{name}, bar series {ix} of {numSeries} with {numPoints} {#plural(numPoints, bars, bar)}.",
columnCombination:"{name}, series {ix} of {numSeries}. Bar series with {numPoints} {#plural(numPoints, bars, bar)}.",bar:"{name}, bar series {ix} of {numSeries} with {numPoints} {#plural(numPoints, bars, bar)}.",barCombination:"{name}, series {ix} of {numSeries}. Bar series with {numPoints} {#plural(numPoints, bars, bar)}.",pie:"{name}, pie {ix} of {numSeries} with {numPoints} {#plural(numPoints, slices, slice)}.",pieCombination:"{name}, series {ix} of {numSeries}. Pie with {numPoints} {#plural(numPoints, slices, slice)}.",
scatter:"{name}, scatter plot {ix} of {numSeries} with {numPoints} {#plural(numPoints, points, point)}.",scatterCombination:"{name}, series {ix} of {numSeries}, scatter plot with {numPoints} {#plural(numPoints, points, point)}.",boxplot:"{name}, boxplot {ix} of {numSeries} with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotCombination:"{name}, series {ix} of {numSeries}. Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",bubble:"{name}, bubble series {ix} of {numSeries} with {numPoints} {#plural(numPoints, bubbles, bubble)}.",
bubbleCombination:"{name}, series {ix} of {numSeries}. Bubble series with {numPoints} {#plural(numPoints, bubbles, bubble)}.",map:"{name}, map {ix} of {numSeries} with {numPoints} {#plural(numPoints, areas, area)}.",mapCombination:"{name}, series {ix} of {numSeries}. Map with {numPoints} {#plural(numPoints, areas, area)}.",mapline:"{name}, line {ix} of {numSeries} with {numPoints} data {#plural(numPoints, points, point)}.",maplineCombination:"{name}, series {ix} of {numSeries}. Line with {numPoints} data {#plural(numPoints, points, point)}.",
mapbubble:"{name}, bubble series {ix} of {numSeries} with {numPoints} {#plural(numPoints, bubbles, bubble)}.",mapbubbleCombination:"{name}, series {ix} of {numSeries}. Bubble series with {numPoints} {#plural(numPoints, bubbles, bubble)}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{Annotation: #each(annotations). }"}}}});u(b,"Accessibility/Options/DeprecatedOptions.js",[b["Core/Utilities.js"]],
function(b){function g(b,f,d){for(var a,c=0;c<f.length-1;++c)a=f[c],b=b[a]=v(b[a],{});b[f[f.length-1]]=d}function p(b,h,d,a){function c(a,b){return b.reduce(function(a,b){return a[b]},a)}var e=c(b.options,h),l=c(b.options,d);Object.keys(a).forEach(function(c){var m,n=e[c];"undefined"!==typeof n&&(g(l,a[c],n),f(32,!1,b,(m={},m[h.join(".")+"."+c]=d.join(".")+"."+a[c].join("."),m)))})}function n(b){var h=b.options.chart||{},d=b.options.accessibility||{};["description","typeDescription"].forEach(function(a){var c;
h[a]&&(d[a]=h[a],f(32,!1,b,(c={},c["chart."+a]="use accessibility."+a,c)))})}function q(b){b.axes.forEach(function(h){(h=h.options)&&h.description&&(h.accessibility=h.accessibility||{},h.accessibility.description=h.description,f(32,!1,b,{"axis.description":"use axis.accessibility.description"}))})}function l(b){var h={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","pointDescriptionFormatter"],skipKeyboardNavigation:["accessibility",
"keyboardNavigation","enabled"]};b.series.forEach(function(d){Object.keys(h).forEach(function(a){var c,e=d.options[a];"undefined"!==typeof e&&(g(d.options,h[a],"skipKeyboardNavigation"===a?!e:e),f(32,!1,b,(c={},c["series."+a]="series."+h[a].join("."),c)))})})}var f=b.error,v=b.pick;return function(b){n(b);q(b);b.series&&l(b);p(b,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],
pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection",
"onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]});p(b,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]});p(b,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection",
"beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}});u(b,"Accessibility/A11yI18n.js",[b["Core/Globals.js"],b["Core/Utilities.js"]],function(b,g){function p(b,f){var g=b.indexOf("#each("),l=b.indexOf("#plural("),h=b.indexOf("["),
d=b.indexOf("]");if(-1<g){h=b.slice(g).indexOf(")")+g;var a=b.substring(0,g);l=b.substring(h+1);h=b.substring(g+6,h).split(",");g=Number(h[1]);b="";if(f=f[h[0]])for(g=isNaN(g)?f.length:g,g=0>g?f.length+g:Math.min(g,f.length),h=0;h<g;++h)b+=a+f[h]+l;return b.length?b:""}if(-1<l){a=b.slice(l).indexOf(")")+l;b=b.substring(l+8,a).split(",");switch(Number(f[b[0]])){case 0:b=q(b[4],b[1]);break;case 1:b=q(b[2],b[1]);break;case 2:b=q(b[3],b[1]);break;default:b=b[1]}b?(f=b,f=f.trim&&f.trim()||f.replace(/^\s+|\s+$/g,
"")):f="";return f}return-1<h?(l=b.substring(0,h),b=Number(b.substring(h+1,d)),f=f[l],!isNaN(b)&&f&&(0>b?(a=f[f.length+b],"undefined"===typeof a&&(a=f[0])):(a=f[b],"undefined"===typeof a&&(a=f[f.length-1]))),"undefined"!==typeof a?a:""):"{"+b+"}"}var n=g.format,q=g.pick;b.i18nFormat=function(b,f,g){var l=function(a,b){a=a.slice(b||0);var c=a.indexOf("{"),d=a.indexOf("}");if(-1<c&&d>c)return{statement:a.substring(c+1,d),begin:b+c+1,end:b+d}},h=[],d=0;do{var a=l(b,d);var c=b.substring(d,a&&a.begin-
1);c.length&&h.push({value:c,type:"constant"});a&&h.push({value:a.statement,type:"statement"});d=a?a.end+1:d+1}while(a);h.forEach(function(a){"statement"===a.type&&(a.value=p(a.value,f))});return n(h.reduce(function(a,b){return a+b.value},""),f,g)};b.Chart.prototype.langFormat=function(g,f){g=g.split(".");for(var l=this.options.lang,n=0;n<g.length;++n)l=l&&l[g[n]];return"string"===typeof l?b.i18nFormat(l,f,this):""}});u(b,"Accessibility/FocusBorder.js",[b["Core/Globals.js"],b["Core/Renderer/SVG/SVGElement.js"],
b["Core/Renderer/SVG/SVGLabel.js"],b["Core/Utilities.js"]],function(b,g,p,n){function q(a){if(!a.focusBorderDestroyHook){var b=a.destroy;a.destroy=function(){var c,d;null===(d=null===(c=a.focusBorder)||void 0===c?void 0:c.destroy)||void 0===d?void 0:d.call(c);return b.apply(a,arguments)};a.focusBorderDestroyHook=b}}function l(a){for(var b=[],e=1;e<arguments.length;e++)b[e-1]=arguments[e];a.focusBorderUpdateHooks||(a.focusBorderUpdateHooks={},d.forEach(function(c){c+="Setter";var d=a[c]||a._defaultSetter;
a.focusBorderUpdateHooks[c]=d;a[c]=function(){var c=d.apply(a,arguments);a.addFocusBorder.apply(a,b);return c}}))}function f(a){a.focusBorderUpdateHooks&&(Object.keys(a.focusBorderUpdateHooks).forEach(function(b){var c=a.focusBorderUpdateHooks[b];c===a._defaultSetter?delete a[b]:a[b]=c}),delete a.focusBorderUpdateHooks)}var u=n.addEvent,t=n.extend,h=n.pick,d="x y transform width height r d stroke-width".split(" ");t(g.prototype,{addFocusBorder:function(a,c){this.focusBorder&&this.removeFocusBorder();
var d=this.getBBox(),f=h(a,3);d.x+=this.translateX?this.translateX:0;d.y+=this.translateY?this.translateY:0;var g=d.x-f,n=d.y-f,t=d.width+2*f,u=d.height+2*f,v=this instanceof p;if("text"===this.element.nodeName||v){var y=!!this.rotation;if(v)var A={x:y?1:0,y:0};else g=A=0,"middle"===this.attr("text-anchor")?(A=b.isFirefox&&this.rotation?.25:.5,g=b.isFirefox&&!this.rotation?.75:.5):this.rotation?A=.25:g=.75,A={x:A,y:g};g=+this.attr("x")-d.width*A.x-f;n=+this.attr("y")-d.height*A.y-f;v&&y&&(v=t,t=u,
u=v,g=+this.attr("x")-d.height*A.x-f,n=+this.attr("y")-d.width*A.y-f)}this.focusBorder=this.renderer.rect(g,n,t,u,parseInt((c&&c.borderRadius||0).toString(),10)).addClass("highcharts-focus-border").attr({zIndex:99}).add(this.parentGroup);this.renderer.styledMode||this.focusBorder.attr({stroke:c&&c.stroke,"stroke-width":c&&c.strokeWidth});l(this,a,c);q(this)},removeFocusBorder:function(){f(this);this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook);
this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}});b.Chart.prototype.renderFocusBorder=function(){var a=this.focusElement,b=this.options.accessibility.keyboardNavigation.focusBorder;a&&(a.removeFocusBorder(),b.enabled&&a.addFocusBorder(b.margin,{stroke:b.style.color,strokeWidth:b.style.lineWidth,borderRadius:b.style.borderRadius}))};b.Chart.prototype.setFocusToElement=function(a,b){var c=this.options.accessibility.keyboardNavigation.focusBorder;(b=b||a.element)&&b.focus&&(b.hcEvents&&
b.hcEvents.focusin||u(b,"focusin",function(){}),b.focus(),c.hideBrowserFocusOutline&&(b.style.outline="none"));this.focusElement&&this.focusElement.removeFocusBorder();this.focusElement=a;this.renderFocusBorder()}});u(b,"Accessibility/Accessibility.js",[b["Accessibility/Utils/ChartUtilities.js"],b["Core/Globals.js"],b["Accessibility/KeyboardNavigationHandler.js"],b["Series/Line/LineSeries.js"],b["Core/Options.js"],b["Core/Series/Point.js"],b["Core/Utilities.js"],b["Accessibility/AccessibilityComponent.js"],
b["Accessibility/KeyboardNavigation.js"],b["Accessibility/Components/LegendComponent.js"],b["Accessibility/Components/MenuComponent.js"],b["Accessibility/Components/SeriesComponent/SeriesComponent.js"],b["Accessibility/Components/ZoomComponent.js"],b["Accessibility/Components/RangeSelectorComponent.js"],b["Accessibility/Components/InfoRegionsComponent.js"],b["Accessibility/Components/ContainerComponent.js"],b["Accessibility/HighContrastMode.js"],b["Accessibility/HighContrastTheme.js"],b["Accessibility/Options/Options.js"],
b["Accessibility/Options/LangOptions.js"],b["Accessibility/Options/DeprecatedOptions.js"]],function(b,g,p,n,q,l,f,u,t,h,d,a,c,e,m,w,M,H,D,F,B){function v(a){this.init(a)}var y=g.doc,x=f.addEvent,k=f.extend,r=f.fireEvent,C=f.merge;C(!0,q.defaultOptions,D,{accessibility:{highContrastTheme:H},lang:F});g.A11yChartUtilities=b;g.KeyboardNavigationHandler=p;g.AccessibilityComponent=u;v.prototype={init:function(a){this.chart=a;y.addEventListener&&a.renderer.isSVG?(B(a),this.initComponents(),this.keyboardNavigation=
new t(a,this.components),this.update()):a.renderTo.setAttribute("aria-hidden",!0)},initComponents:function(){var b=this.chart,f=b.options.accessibility;this.components={container:new w,infoRegions:new m,legend:new h,chartMenu:new d,rangeSelector:new e,series:new a,zoom:new c};f.customComponents&&k(this.components,f.customComponents);var g=this.components;this.getComponentOrder().forEach(function(a){g[a].initBase(b);g[a].init()})},getComponentOrder:function(){if(!this.components)return[];if(!this.components.series)return Object.keys(this.components);
var a=Object.keys(this.components).filter(function(a){return"series"!==a});return["series"].concat(a)},update:function(){var a=this.components,b=this.chart,c=b.options.accessibility;r(b,"beforeA11yUpdate");b.types=this.getChartTypes();this.getComponentOrder().forEach(function(c){a[c].onChartUpdate();r(b,"afterA11yComponentUpdate",{name:c,component:a[c]})});this.keyboardNavigation.update(c.keyboardNavigation.order);!b.highContrastModeActive&&M.isHighContrastModeActive()&&M.setHighContrastTheme(b);
r(b,"afterA11yUpdate",{accessibility:this})},destroy:function(){var a=this.chart||{},b=this.components;Object.keys(b).forEach(function(a){b[a].destroy();b[a].destroyBase()});this.keyboardNavigation&&this.keyboardNavigation.destroy();a.renderTo&&a.renderTo.setAttribute("aria-hidden",!0);a.focusElement&&a.focusElement.removeFocusBorder()},getChartTypes:function(){var a={};this.chart.series.forEach(function(b){a[b.type]=1});return Object.keys(a)}};g.Chart.prototype.updateA11yEnabled=function(){var a=
this.accessibility,b=this.options.accessibility;b&&b.enabled?a?a.update():this.accessibility=new v(this):a?(a.destroy&&a.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)};x(g.Chart,"render",function(a){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());var b=this.accessibility;b&&b.getComponentOrder().forEach(function(a){b.components[a].onChartRender()})});x(g.Chart,"update",function(a){if(a=a.options.accessibility)a.customComponents&&
(this.options.accessibility.customComponents=a.customComponents,delete a.customComponents),C(!0,this.options.accessibility,a),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility);this.a11yDirty=!0});x(l,"update",function(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)});["addSeries","init"].forEach(function(a){x(g.Chart,a,function(){this.a11yDirty=!0})});["update","updatedData","remove"].forEach(function(a){x(n,a,function(){this.chart.accessibility&&
(this.chart.a11yDirty=!0)})});["afterDrilldown","drillupall"].forEach(function(a){x(g.Chart,a,function(){this.accessibility&&this.accessibility.update()})});x(g.Chart,"destroy",function(){this.accessibility&&this.accessibility.destroy()})});u(b,"masters/modules/accessibility.src.js",[],function(){})});
//# sourceMappingURL=accessibility.js.map